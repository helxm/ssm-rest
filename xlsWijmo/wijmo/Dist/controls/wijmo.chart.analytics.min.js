/*
    *
    * Wijmo Library 5.20162.188
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(n){i.call(this);this._chartType=t.ChartType.Line;this._initProperties(n||{})}return __extends(r,i),Object.defineProperty(r.prototype,"sampleCount",{get:function(){return this._sampleCount},set:function(t){t!==this._sampleCount&&(this._sampleCount=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.approximate=function(){return 0},r.prototype.getValues=function(n){var t=this,r=t.binding,u=t.bindingX;return(r!==t._bind&&(t._bind=r,t.binding=r),u!==t._bindX&&(t._bindX=u,t.bindingX=u),t._originYValues==null&&(t._originYValues=i.prototype.getValues.call(this,0)),t._originXValues==null&&(t._originXValues=i.prototype.getValues.call(this,1)),t._originXValues==null||t._originYValues==null)?null:(i.prototype.getValues.call(this,n),(t._xValues==null||t._yValues==null)&&t._calculateValues(),n===0)?t._yValues||null:n===1?t._xValues||null:void 0},r.prototype._calculateValues=function(){},r.prototype._initProperties=function(n){var i=this,t;i._sampleCount=100;for(t in n)i[t]&&(i[t]=n[t])},r.prototype._invalidate=function(){i.prototype._invalidate.call(this);this._clearCalculatedValues()},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this._originXValues=null;this._originYValues=null;this._clearCalculatedValues()},r.prototype._clearCalculatedValues=function(){this._xValues=null;this._yValues=null},r}(t.SeriesBase);i.TrendLineBase=r})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function t(){}return t.round=function(n,t){if(!n)return 0;var i=Math.pow(10,t||2);return Math.round(n*i)/i},t.avg=function(n){var i=t.sum(n);return i/n.length},t.sum=function(t){return t=n.asArray(t,!1),t.reduce(function(n,t){return n+t},0)},t.sumOfPow=function(t,i){return t=n.asArray(t,!1),i=n.asNumber(i,!1),t.reduce(function(n,t){return n+Math.pow(t,i)},0)},t.sumProduct=function(){for(var i=[],r=0;r<arguments.length;r++)i[+r]=arguments[r];var s=i.length,e=0,o=[],u,f;for(i=n.asArray(i,!1),i.forEach(function(t,i){t=n.asArray(t,!1);i===0?e=t.length:n.assert(t.length===e,'The length of the arrays must be equal')}),u=0;u<e;u++)f=1,i.some(function(t){var i=t[u];if(i&&n.isNumber(i))f*=i;else return f=0,!0}),o.push(f);return t.sum(o)},t.variance=function(i){i=n.asArray(i,!1);var u=t.avg(i),r;return r=i.map(function(n){return n-u}),t.sumOfSquares(r)/(i.length-1)},t.covariance=function(i,r){i=n.asArray(i,!1);r=n.asArray(r,!1);n.assert(i.length===r.length,'Length of arrays must be equal');for(var o=t.avg(i),s=t.avg(r),f=i.length,e=0,u=0;u<f;u++)e+=(i[u]-o)*(r[u]-s)/f;return e},t.min=function(t){return Math.min.apply(Math,n.asArray(t,!1))},t.max=function(t){return Math.max.apply(Math,n.asArray(t,!1))},t.square=function(t){return Math.pow(n.asNumber(t,!1),2)},t.sumOfSquares=function(n){return t.sumOfPow(n,2)},t.stdDev=function(n){return Math.sqrt(t.variance(n))},t}(),f,e;(function(n){n[n.Linear=0]="Linear";n[n.Exponential=1]="Exponential";n[n.Logarithmic=2]="Logarithmic";n[n.Power=3]="Power";n[n.Fourier=4]="Fourier";n[n.Polynomial=5]="Polynomial";n[n.MinX=6]="MinX";n[n.MinY=7]="MinY";n[n.MaxX=8]="MaxX";n[n.MaxY=9]="MaxY";n[n.AverageX=10]="AverageX";n[n.AverageY=11]="AverageY"})(t.TrendLineFitType||(t.TrendLineFitType={}));f=t.TrendLineFitType;e=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"fitType",{get:function(){return this._fitType},set:function(t){t!==this._fitType&&(this._fitType=n.asEnum(t,f,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){t!==this._order&&(this._order=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"coefficients",{get:function(){return this._helper?this._helper.coefficients:null},enumerable:!0,configurable:!0}),i.prototype._initProperties=function(n){this._fitType=f.Linear;this._order=2;t.prototype._initProperties.call(this,n)},i.prototype._calculateValues=function(){var n=this,t,i,r;i=f[n._fitType];s[i]&&(t=new s[i](n._originYValues,n._originXValues,n.sampleCount,n.order),r=t.calculateValues(),n._yValues=r[0],n._xValues=r[1],n._helper=t)},i.prototype.approximate=function(n){return this._helper.approximate(n)},i.prototype.getEquation=function(n){var t=this,i=t.coefficients,r=i.length;return t._helper==null?'':t._helper.getEquation(n)},i}(t.TrendLineBase);t.TrendLine=e;var h=function(){function n(n,t){this._x=n;this._y=t}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minX",{get:function(){var n=this;return n._minX==null&&(n._minX=i.min(n._x)),n._minX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minY",{get:function(){var n=this;return n._minY==null&&(n._minY=i.min(n._y)),n._minY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxX",{get:function(){var n=this;return n._maxX==null&&(n._maxX=i.max(n._x)),n._maxX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxY",{get:function(){var n=this;return n._maxY==null&&(n._maxY=i.max(n._y)),n._maxY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageX",{get:function(){var n=this;return n._averageX==null&&(n._averageX=i.avg(n._x)),n._averageX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageY",{get:function(){var n=this;return n._averageY==null&&(n._averageY=i.avg(n._y)),n._averageY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumX",{get:function(){var n=this;return n._sumX==null&&(n._sumX=i.sum(n._x)),n._sumX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumY",{get:function(){var n=this;return n._sumY==null&&(n._sumY=i.sum(n._y)),n._sumY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogX",{get:function(){var n=this;return n._logX==null&&(n._logX=n._x.map(function(n){return Math.log(n)})),n._logX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogY",{get:function(){var n=this;return n._logY==null&&(n._logY=n._y.map(function(n){return Math.log(n)})),n._logY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumLogX",{get:function(){var n=this;return n._sumLogX==null&&(n._sumLogX=i.sum(n.LogX)),n._sumLogX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumLogY",{get:function(){var n=this;return n._sumLogY==null&&(n._sumLogY=i.sum(n.LogY)),n._sumLogY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareX",{get:function(){var n=this;return n._sumOfSquareX==null&&(n._sumOfSquareX=i.sumOfSquares(n._x)),n._sumOfSquareX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareY",{get:function(){var n=this;return n._sumOfSquareY==null&&(n._sumOfSquareY=i.sumOfSquares(n._y)),n._sumOfSquareY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareLogX",{get:function(){var n=this;return n._sumOfSquareLogX==null&&(n._sumOfSquareLogX=i.sumOfSquares(n.LogX)),n._sumOfSquareLogX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareLogY",{get:function(){var n=this;return n._sumOfSquareLogY==null&&(n._sumOfSquareLogY=i.sumOfSquares(n.LogY)),n._sumOfSquareLogY},enumerable:!0,configurable:!0}),n.prototype.sumProduct=function(n,t){var r=this;return r._sumProduct==null&&(r._sumProduct=i.sumProduct(n,t)),r._sumProduct},n}(),r=function(){function t(t,i,r){var u=this;u._coefficients=[];u.y=t;u.x=i;n.assert(u.y.length===u.x.length,'Length of X and Y arrays are not equal');u.count=r||t.length;u._calculator=new h(i,t);u.xMin=u._calculator.minX;u.xMax=u._calculator.maxX}return Object.defineProperty(t.prototype,"calculator",{get:function(){return this._calculator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this.y&&(this._y=n.asArray(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this.x&&(this._x=n.asArray(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(t){t!==this.count&&(this._count=n.asInt(t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xMin",{get:function(){return this._xMin},set:function(t){t!==this.xMin&&(this._xMin=n.asNumber(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xMax",{get:function(){return this._xMax},set:function(t){t!==this.xMax&&(this._xMax=n.asNumber(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coefficients",{get:function(){return this._coefficients},enumerable:!0,configurable:!0}),t.prototype._calculateCoefficients=function(){var n=this,i,t;t=n.calcB();i=n.calcA(t);n._coefficients.push(i,t)},t.prototype.calculateValues=function(){for(var n=this,f=(n.xMax-n.xMin)/(n.count-1),t=[[],[]],i,u,r=0;r<n.count;r++)i=n.xMin+f*r,u=n.calcY(i),t[0].push(u),t[1].push(i);return t},t.prototype.calcA=function(n){var t=this,i=t.y.length,r=t.calculator.sumX,u=t.calculator.sumY,n=n?n:t.calcB();return(u-n*r)/i},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumProduct(n.x,n.y),u=n.sumX,e=n.sumY,o=n.sumOfSquareX;return(r*f-u*e)/(r*o-i.square(u))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]+t[1]*n},t.prototype.approximate=function(n){return this.calcY(n)},t.prototype.getEquation=function(n){var n=n?n:this._defaultEquationFmt;return this._getEquation(n)},t.prototype._getEquation=function(n){var i=this.coefficients,t=[];return i.forEach(function(i){t.push(n(i))}),this._concatEquation(t)},t.prototype._concatEquation=function(){return''},t.prototype._defaultEquationFmt=function(n){var r,t,i=Math.abs(n),u=0;return i>=1e5?(t=String(Math.round(i)).length-1,r=Math.round(n/Number('1e'+t)),r+'e'+t):i<.0001?(t=String(i).match(/\.0+/)[1].length-1,r=Math.round(n*Number('1e'+t)),r+'e-'+t):(u=n>0?6:7,i>=1e4&&u--,String(+String(n).substring(0,u)))},t}(),c=function(t){function i(n,i,r,u){t.call(this,n,i,r);this._calculateCoefficients();this.yOffset=u}return __extends(i,t),Object.defineProperty(i.prototype,"yOffset",{get:function(){return this._yOffset},set:function(t){t!==this.yOffset&&(this._yOffset=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),i.prototype.calcA=function(n){return this.yOffset!=null?this.yOffset:t.prototype.calcA.call(this,n)},i.prototype.calcB=function(){return this.yOffset!=null?this._calculateBSimple():t.prototype.calcB.call(this)},i.prototype._calculateBSimple=function(){var t=this,n=t.calculator,i=n.sumProduct(n.x,n.y),r=n.sumX,u=n.sumOfSquareX;return(i-t.yOffset*r)/u},i.prototype._calculateCoefficients=function(){var n=this,i,t;t=n.calcB();i=n.calcA(t);n.coefficients.push(t,i)},i.prototype.calcY=function(n){var t=this.coefficients;return t[0]*n+t[1]},i.prototype._concatEquation=function(n){return'y='+n[0]+'x'+(this.coefficients[1]>=0?'+':'')+n[1]},i}(r),l=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype.calcA=function(n){var t=this,r=t.y.length,i=t.calculator,u=i.sumY,f=i.sumLogX,n=n?n:t.calcB();return(u-n*f)/r},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumProduct(n.y,n.LogX),e=n.sumY,u=n.sumLogX,o=n.sumOfSquareLogX;return(r*f-e*u)/(r*o-i.square(u))},t.prototype._calculateCoefficients=function(){var n=this,i,t;t=n.calcB();i=n.calcA(t);n.coefficients.push(t,i)},t.prototype.calcY=function(n){var t=this.coefficients;return Math.log(n)*t[0]+t[1]},t.prototype._concatEquation=function(n){return'y='+n[0]+'ln(x)'+(this.coefficients[1]>=0?'+':'')+n[1]},t}(r),a=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype.calcA=function(){var t=this,f=t.y.length,n=t.calculator,e=n.sumLogY,r=n.sumOfSquareX,u=n.sumX,o=n.sumProduct(n.x,n.LogY);return Math.exp((e*r-u*o)/(f*r-i.square(u)))},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumLogY,e=n.sumOfSquareX,u=n.sumX,o=n.sumProduct(n.x,n.LogY);return(r*o-u*f)/(r*e-i.square(u))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]*Math.exp(t[1]*n)},t.prototype._concatEquation=function(n){return'y='+n[0]+'e<sup>'+n[1]+'x</sup>'},t}(r),v=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype.calcA=function(n){var t=this,i=t.calculator,r=t.y.length,u=i.sumLogX,f=i.sumLogY,n=n?n:t.calcB();return Math.exp((f-n*u)/r)},t.prototype.calcB=function(){var t=this,r=t.y.length,n=t.calculator,f=n.sumProduct(n.LogX,n.LogY),u=n.sumLogX,e=n.sumLogY,o=n.sumOfSquareLogX;return(r*f-u*e)/(r*o-i.square(u))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]*Math.pow(n,t[1])},t.prototype._concatEquation=function(n){return'y='+n[0]+'x<sup>'+n[1]+'</sup>'},t}(r),o=function(t){function i(n,i,r,u){t.call(this,n,i,r);this._order=u==null?2:u;this._basis=[];this._calculateCoefficients()}return __extends(i,t),Object.defineProperty(i.prototype,"basis",{get:function(){return this._basis},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){t!==this.order&&(this._order=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),i.prototype._calculateCoefficients=function(){var n=this;n._coefficients.length=n.order;n._createBasis();n._normalizeAndSolveGauss()},i.prototype._createBasis=function(){var n=this.x.length,t=this.order;if(n<2)throw"Incompatible data: Less than 2 data points.";if(t<1)throw"Incompatible data: Less than 1 coefficient in the fit";if(t>n)throw"Incompatible data: Number of data points less than number of terms";},i.prototype._normalizeAndSolveGauss=function(){var n=[];if(this._computeNormalEquations(n),this._genDefValForArray(n,0),!this._solveGauss(n))throw'Incompatible data: No solution.';},i.prototype._genDefValForArray=function(n,t){var i=n.length+1;n.forEach(function(n){for(var r=0;r<i;r++)n[r]==null&&(n[r]=t)})},i.prototype._computeNormalEquations=function(n){for(var f=this,s=f.y,e=f.basis,o=f.order,h=s.length,i,r,u,t=0;t<o;t++)for(r=0,n[t]==null&&(n[t]=[]),s.forEach(function(n,i){r+=n*e[i][t]}),n[t][o]=r,i=t;i<o;i++){for(r=0,u=0;u<h;u++)r+=e[u][i]*e[u][t];n[i]==null&&(n[i]=[]);n[i][t]=r;n[t][i]=r}},i.prototype._solveGauss=function(n){var r=n.length,e=0,u=this._coefficients,f=!0,i,t;if(u.length<r||n[0].length<r+1)throw'Dimension of matrix is not correct.';if(n.some(function(i,u){var o=u,h=Math.abs(i[u]),c,s;for(t=u+1;t<r;t++)c=Math.abs(n[t][u]),h<c&&(h=c,o=t);if(h>e){for(t=u;t<=r;t++)s=n[u][t],n[u][t]=n[o][t],n[o][t]=s;for(o=u+1;o<r;o++)for(s=n[o][u]/i[u],n[o][u]=0,t=u+1;t<=r;t++)n[o][t]-=s*i[t]}else return f=!1,!0}),f)for(i=r-1;i>=0;i--){for(u[i]=n[i][r],t=i+1;t<r;t++)u[i]-=n[i][t]*u[t];u[i]=u[i]/n[i][i]}return f},i}(r),y=function(n){function t(t,i,r,u){n.call(this,t,i,r,u)}return __extends(t,n),Object.defineProperty(t.prototype,"coefficients",{get:function(){return this._coefficients.slice(0).reverse()},enumerable:!0,configurable:!0}),t.prototype.calcY=function(n){var r=this._coefficients,t=0,i=1;return r.forEach(function(r,u){u>0&&(i*=n);t+=r*i}),t},t.prototype._calculateCoefficients=function(){var i=this._coefficients,t=!1;this.order++;t&&i.pop();n.prototype._calculateCoefficients.call(this);t;this.order--},t.prototype._createBasis=function(){n.prototype._createBasis.call(this);var t=this,r=t.x,i=t.basis,u=t.order;r.forEach(function(n,t){var r;for(i[t]=[1],r=1;r<=u;r++)i[t][r]=n*i[t][r-1]})},t.prototype._concatEquation=function(n){var t='y=',r=n.length,i=this.coefficients;return n.forEach(function(n,u){var e=r-1-u,f;e===0?t+=n:e===1?(f=i[u+1]>=0?'+':'',t+=n+'x'+f):(f=i[u+1]>=0?'+':'',t+=n+'x<sup>'+e+'</sup>'+f)}),t},t}(o),p=function(n){function t(t,i,r,u){u=u==null?i.length:u;n.call(this,t,i,r,u)}return __extends(t,n),t.prototype._createBasis=function(){n.prototype._createBasis.call(this);var t=this,r=t.x,i=t.basis,u=t.order;r.forEach(function(n,t){var r,f;for(i[t]=[1],r=1;r<u;r++)f=Math.floor((r+1)/2),r%2==1?i[t].push(Math.cos(f*n)):i[t].push(Math.sin(f*n))})},t.prototype.calcY=function(n){var i=this._coefficients,t;return i.forEach(function(i,r){var f=Math.floor((r+1)/2),u;r===0?t=i:(u=f*n,t+=r%2==1?i*Math.cos(u):i*Math.sin(u))}),t},t.prototype._concatEquation=function(n){var t='y=',i=n.length,r=this.coefficients;return n.forEach(function(n,u){var e=u===i-1?'':r[u+1]>=0?'+':'',f='',o=Math.ceil(u/2);u===0?t+=n+e:(f=u%2==1?'cos':'sin',f+='('+(o===1?'':String(o))+'x)',t+=n+f+e)}),t},t}(o),u=function(n){function t(t,i,r){n.call(this,t,i,r);this._calculateCoefficients()}return __extends(t,n),t.prototype._setVal=function(n){this._val=n},t.prototype.calcY=function(){return this._val},t}(r),w=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=n.xMin,f=i.min(n.y),e=i.max(n.y),r,u;return r=[t,t],u=[f,e],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=this.xMin;return n&&(t=n(t)),'x='+t},t}(u),b=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,f=n.xMin,e=n.xMax,t=i.min(n.y),r,u;return r=[f,e],u=[t,t],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=i.min(this.y);return n&&(t=n(t)),'y='+t},t}(u),k=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=n.xMax,f=i.min(n.y),e=i.max(n.y),r,u;return r=[t,t],u=[f,e],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=this.xMax;return n&&(t=n(t)),'x='+t},t}(u),d=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,f=n.xMin,e=n.xMax,t=i.max(n.y),r,u;return r=[f,e],u=[t,t],n._setVal(t),[u,r]},t.prototype.getEquation=function(n){var t=i.max(this.y);return n&&(t=n(t)),'y='+t},t}(u),g=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=i.avg(n.x),f=i.min(n.y),e=i.max(n.y),r,u;return r=[t,t],u=[f,e],n._setVal(t),[u,r]},t.prototype._getEquation=function(n){var t=n(i.avg(this.x));return'x='+t},t.prototype._defaultEquationFmt=function(t){return Math.abs(t)<1e5?n.prototype._defaultEquationFmt.call(this,t):''+i.round(t,2)},t}(u),nt=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.calculateValues=function(){var n=this,t=i.avg(n.y),f=n.xMin,e=n.xMax,r,u;return r=[f,e],u=[t,t],n._setVal(t),[u,r]},t.prototype._getEquation=function(n){var t=n(i.avg(this.y));return'y='+t},t.prototype._defaultEquationFmt=function(t){return Math.abs(t)<1e5?n.prototype._defaultEquationFmt.call(this,t):''+i.round(t,2)},t}(u),s={TrendHelperBase:r,Linear:c,Exponential:a,Logarithmic:l,Power:v,Polynomial:y,Fourier:p,MinX:w,MinY:b,MaxX:k,MaxY:d,AverageX:g,AverageY:nt}})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(t){function i(i){t.call(this,i);this.itemsSource==null&&(this.itemsSource=[new n.Point(0,0)])}return __extends(i,t),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min!==t&&(this._min=n.asNumber(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max!==t&&(this._max=n.asNumber(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getValues=function(n){var t=this;return((t._xValues==null||t._yValues==null)&&t._calculateValues(),n===0)?t._yValues||null:n===1?t._xValues||null:void 0},i.prototype._initProperties=function(n){this._min=0;this._max=1;t.prototype._initProperties.call(this,n)},i.prototype._calculateValues=function(){for(var n=this,i=n.sampleCount,u=[],f=[],e=(n.max-n.min)/(i-1),r,t=0;t<i;t++)r=t===i-1?this.max:this.min+e*t,u[t]=n._calculateX(r),f[t]=n._calculateY(r);n._yValues=f;n._xValues=u},i.prototype._validateValue=function(n){return isFinite(n)?n:Number.NaN},i.prototype._calculateValue=function(n,t){var i;try{i=n(t)}catch(r){i=Number.NaN}return this._validateValue(i)},i.prototype._calculateX=function(){return 0},i.prototype._calculateY=function(){return 0},i}(t.TrendLineBase),r,u;t.FunctionSeries=i;r=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"func",{get:function(){return this._func},set:function(t){t&&this._func!==t&&(this._func=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculateX=function(n){return n},i.prototype._calculateY=function(n){return this._calculateValue(this.func,n)},i.prototype.approximate=function(n){return this._calculateValue(this.func,n)},i}(i);t.YFunctionSeries=r;u=function(t){function i(n){t.call(this,n)}return __extends(i,t),Object.defineProperty(i.prototype,"xFunc",{get:function(){return this._xFunc},set:function(t){t&&this._xFunc!==t&&(this._xFunc=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yFunc",{get:function(){return this._yFunc},set:function(t){t&&this._yFunc!==t&&(this._yFunc=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculateX=function(n){return this._calculateValue(this.xFunc,n)},i.prototype._calculateY=function(n){return this._calculateValue(this.yFunc,n)},i.prototype.approximate=function(t){var u=this,i=this._calculateValue(this.xFunc,t),r=this._calculateValue(this.yFunc,t);return new n.Point(i,r)},i}(i);t.ParametricFunctionSeries=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.Simple=0]="Simple";n[n.Weighted=1]="Weighted";n[n.Exponential=2]="Exponential";n[n.Triangular=3]="Triangular"})(i.MovingAverageType||(i.MovingAverageType={}));var r=i.MovingAverageType,u=function(i){function u(n){i.call(this,n);this._chartType=t.ChartType.Line}return __extends(u,i),Object.defineProperty(u.prototype,"type",{get:function(){return this._type},set:function(t){t!==this._type&&(this._type=n.asEnum(t,r,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"period",{get:function(){return this._period},set:function(t){t!==this._period&&(this._period=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),u.prototype._initProperties=function(n){this._period=2;this._type=r.Simple;i.prototype._initProperties.call(this,n)},u.prototype._checkPeriod=function(){var i=this.period,t=this._originXValues;i<=1&&n.assert(!1,"period must be greater than 1.");t&&t.length&&i>=t.length&&n.assert(!1,"period must be less than itemSource's length.")},u.prototype._calculateValues=function(){var n=this,f=n._type,t="_calculate"+r[n._type],i=[],u=[];n._checkPeriod();n[t]&&n[t].call(n,i,u);n._yValues=u;n._xValues=i},u.prototype._calculateSimple=function(n,t,i){i===void 0&&(i=!1);for(var e=this,o=e._originXValues,s=e._originYValues,h=o.length,u=e._period,f=0,r=0;r<h;r++)f+=s[r],r>=u&&(f-=s[r-u]),r>=u-1?(n.push(o[r]),t.push(f/u)):i&&(n.push(o[r]),t.push(f/(r+1)))},u.prototype._calculateWeighted=function(n,t){for(var e=this,s=e._originXValues,u=e._originYValues,h=s.length,r=e._period,c=r*(r+1)/2,o=0,f=0,i=0;i<h;i++)i>0&&(o+=u[i-1]),i>r&&(o-=u[i-r-1]),i<r-1?f+=u[i]*(i+1):(f+=u[i]*r,i>r-1&&(f-=o),n.push(s[i]),t.push(f/c))},u.prototype._calculateExponential=function(n,t){for(var f=this,e=f._originXValues,o=f._originYValues,s=e.length,u=f._period,r=0,i=0;i<s;i++){if(i<=u-2){r+=o[i];i===u-2&&(r/=u-1);continue}r=r+2/(u+1)*(o[i]-r);n.push(e[i]);t.push(r)}},u.prototype._calculateTriangular=function(n,t){var o=this,r=o._period,u=[],f=[],i,s,e=0;for(o._calculateSimple(u,f,!0),i=0,s=u.length;i<s;i++)e+=f[i],i>=r&&(e-=f[i-r]),i>=r-1&&(n.push(u[i]),t.push(e/r))},u}(i.TrendLineBase);i.MovingAverage=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(n){i.call(this);this._startLabel='Start';this._relativeData=!0;this._connectorLines=!1;this._totalLabel='Total';this._getXValues=!1;this._showIntermediateTotal=!1;this._intermediateTotalPos=[];this._chartType=t.ChartType.Bar;this._initProperties(n||{});this.rendering.addHandler(this._rendering,this)}return __extends(r,i),r.prototype._initProperties=function(n){for(var t in n)this[t]&&(this[t]=n[t])},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this._xValues=null;this._yValues=null;this._wfstyle=null;this._getXValues=!0;this._intermediateTotalPos=[];this.chart&&this.chart._performBind()},Object.defineProperty(r.prototype,"relativeData",{get:function(){return!!this._relativeData},set:function(t){t!=this._relativeData&&(this._relativeData=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._start},set:function(t){t!=this._start&&(this._start=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLabel",{get:function(){return this._startLabel},set:function(t){t!=this._startLabel&&(this._startLabel=n.asString(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTotal",{get:function(){return!!this._showTotal},set:function(t){t!=this._showTotal&&(this._showTotal=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalLabel",{get:function(){return this._totalLabel},set:function(t){t!=this._totalLabel&&(this._totalLabel=n.asString(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showIntermediateTotal",{get:function(){return this._showIntermediateTotal},set:function(t){t!=this._showIntermediateTotal&&(this._showIntermediateTotal=n.asBoolean(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intermediateTotalPositions",{get:function(){return this._intermediateTotalPositions},set:function(t){t!=this._intermediateTotalPositions&&(this._intermediateTotalPositions=n.asArray(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intermediateTotalLabels",{get:function(){return this._intermediateTotalLabels},set:function(t){t!=this._intermediateTotalLabels&&(n.assert(t==null||n.isArray(t)||n.isString(t),'intermediateTotalLabels should be an array or a string.'),this._intermediateTotalLabels=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){return!!this._connectorLines},set:function(t){t!=this._connectorLines&&(this._connectorLines=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this._styles},set:function(n){n!=this._styles&&(this._styles=n,this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.getValues=function(t){var s=this,o=[],u,r,f,e;return u=i.prototype.getValues.call(this,t),t===0?(this._yValues||(this.relativeData?(o=[],u&&(u.reduce(function(n,t){return o.push(n+t),n+t},0),this._yValues=o)):this._yValues=u&&u.slice(),r=this._yValues,r&&r.length>0&&(this.showIntermediateTotal&&this.intermediateTotalPositions&&this.intermediateTotalPositions.length>0&&(this._intermediateTotalPos=r.slice(),this.intermediateTotalPositions.reduceRight(function(n,t){var i=t===0?r[0]:r[t-1];return r.length>t?(r.splice(t,0,i),s._intermediateTotalPos.splice(t,0,!0)):r.length===t&&(r.push(i),s._intermediateTotalPos.push(!0)),0},0)),this.start!=null&&(r.splice(0,0,this.start),this._intermediateTotalPos.splice(0,0,!1)),this.showTotal&&r&&r.push(r[r.length-1]))),this._yValues):(!this._xValues&&this._getXValues&&(this._xValues=u&&u.slice(),this._getXValues=!1,this.chart&&this.chart._xlabels&&this.chart._xlabels.length&&(f=this.chart._xlabels,this.showIntermediateTotal&&this.intermediateTotalPositions&&this.intermediateTotalPositions.length>0&&(e=this.intermediateTotalLabels,e&&this.intermediateTotalPositions.reduceRight(function(t,i,r){var u='';return u=n.isString(e)?e:e[r]||'',f.length>i?f.splice(i,0,u):f.length===i&&f.push(u),0},0)),this.start!=null&&f.splice(0,0,this.startLabel),this.showTotal&&f.push(this.totalLabel))),this._xValues)},r.prototype._invalidate=function(){i.prototype._invalidate.call(this);this._clearValues()},r.prototype._rendering=function(n,t){var i=this;this._wfstyle=null;var c=this.chart,l=this._getAxisY(),v=this._getAxisX(),y=l.origin||0,e=t.engine,u,o,a,f,s,h;if(this._barPlotter=c._getPlotter(this),a=this._barPlotter.rotated,this._barPlotter._getSymbolOrigin||(this._barPlotter._getSymbolOrigin=function(n,t,r){return t===0?n:i._intermediateTotalPos[t]===!0?n:t===r-1&&i.showTotal?n:i._yValues[t-1]}),this._barPlotter._getSymbolStyles||(this._barPlotter._getSymbolStyles=function(n,t){var r=i._getStyles();return n===0&&i.start!=null?r.start:i._intermediateTotalPos[n]===!0?r.intermediateTotal:n===t-1&&i.showTotal?r.total:i._yValues[n]<i._yValues[n-1]?r.falling:r.rising}),this._barPlotter.plotSeries(e,v,l,n,c,0,1),this.connectorLines){for(e.startGroup(r.CSS_CONNECTOR_LINE_GROUP),f=this._barPlotter.hitTester._map[0],h=this._yValues[0]<y,s=f[0].rect,u=1,o=f.length;u<o;u++)(this._intermediateTotalPos[u]!==!0||u===o-1)&&(this._drawConnectorLine(e,a,s,f[u].rect,h),s=f[u].rect,h=this._yValues[u]<this._yValues[u-1]);e.endGroup()}},r.prototype._getStyles=function(){if(this._wfstyle)return this._wfstyle;var u=this._chart,r=u.series.indexOf(this),t=this._getSymbolFill(r),i=this._getSymbolStroke(r),n=this.styles||{};return this._wfstyle={start:this._getStyleByKey(n,'start',t,i),intermediateTotal:this._getStyleByKey(n,'intermediateTotal',t,i),total:this._getStyleByKey(n,'total',t,i),falling:this._getStyleByKey(n,'falling','red','red'),rising:this._getStyleByKey(n,'rising','green','green')},this._wfstyle},r.prototype._getStyleByKey=function(n,t,i,r){return{fill:n[t]&&n[t].fill?n[t].fill:i,stroke:n[t]&&n[t].stroke?n[t].stroke:r}},r.prototype._drawConnectorLine=function(t,i,u,f,e){var o=new n.Point,s=new n.Point;i?e?(o.x=u.left,o.y=u.top+u.height,s.x=u.left,s.y=f.top):(o.x=u.left+u.width,o.y=u.top+u.height,s.x=u.left+u.width,s.y=f.top):e?(o.x=u.left,o.y=u.top+u.height,s.x=f.left+f.width,s.y=u.top+u.height):(o.x=u.left,o.y=u.top,s.x=f.left+f.width,s.y=u.top);t.drawLine(o.x,o.y,s.x,s.y,r.CSS_CONNECTOR_LINE,this.styles&&this.styles.connectorLines||{stroke:'black'})},r.prototype.legendItemLength=function(){return this.showTotal?3:2},r.prototype.measureLegendItem=function(t,i){var u=this._getName(i),r=new n.Size(0,0);return u&&(r=this._measureLegendItem(t,this._getName(i))),r},r.prototype.drawLegendItem=function(n,i,r){var u=this._getLegendStyles(r),f=this._getName(r);f&&this._drawLegendItem(n,i,t.ChartType.Bar,this._getName(r),u,this.symbolStyle)},r.prototype._getLegendStyles=function(n){if(n<0||this.styles===null)return null;var t=this._getStyles();return n===0?t.rising:n===1?t.falling:t.total},r.prototype._getName=function(n){var i=undefined,t;return this.name&&(this.name.indexOf(",")?(t=this.name.split(","),t&&t.length-1>=n&&(i=t[n].trim())):i=this.name),i},r.CSS_CONNECTOR_LINE_GROUP='water-fall-connector-lines',r.CSS_CONNECTOR_LINE='water-fall-connector-line',r.CSS_ENDLABEL='water-fall-end-label',r}(t.SeriesBase);i.Waterfall=r})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))