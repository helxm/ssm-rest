/*
    *
    * Wijmo Library 5.20162.188
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;(function(n){var t;(function(t){var i;(function(i){var r;(function(r){'use strict';function u(t){return isFinite(t)&&!isNaN(t)&&n.isNumber(t)}var s=function(i){function r(r){i.call(this);this._levels=[0,23.6,38.2,50,61.8,100];this._uptrend=!0;this._labelPosition=t.LabelPosition.Left;r&&n.copy(this,r);this.rendering.addHandler(this._render)}return __extends(r,i),Object.defineProperty(r.prototype,"low",{get:function(){return this._low},set:function(t){t!=this._low&&(this._low=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"high",{get:function(){return this._high},set:function(t){t!=this._high&&(this._high=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(i){i!=this._labelPosition&&(this._labelPosition=n.asEnum(i,t.LabelPosition,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uptrend",{get:function(){return this._uptrend},set:function(t){t!=this._uptrend&&(this._uptrend=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"levels",{get:function(){return this._levels},set:function(t){t!=this._levels&&(this._levels=n.asArray(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minX",{get:function(){return this._minX},set:function(n){n!=this._minX&&(this._minX=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this._maxX},set:function(n){n!=this._maxX&&(this._maxX=n,this._invalidate())},enumerable:!0,configurable:!0}),r.prototype._getMinX=function(){return n.isNumber(this._minX)?this._minX:n.isDate(this._minX)?n.asDate(this._minX).valueOf():this._getAxisX().actualMin},r.prototype._getMaxX=function(){return n.isNumber(this._maxX)?this._maxX:n.isDate(this._maxX)?n.asDate(this._maxX).valueOf():this._getAxisX().actualMax},r.prototype._updateLevels=function(){var r=undefined,u=undefined,f,e,n,t,o;if((this._low===undefined||this._high===undefined)&&(f=i.prototype.getValues.call(this,0),e=i.prototype.getValues.call(this,1),f)){var s=f.length,h=this._getMinX(),c=this._getMaxX();for(n=0;n<s;n++)(t=f[n],o=e?e[n]:n,o<h||o>c)||isNaN(t)||((r===undefined||r>t)&&(r=t),(u===undefined||u<t)&&(u=t))}this._actualLow=this._low===undefined&&r!==undefined?r:this._low;this._actualHigh=this._high===undefined&&u!==undefined?u:this._high},r.prototype._render=function(i,r){var u=i,c,l,w,o,y,h;u._updateLevels();var e=u._getAxisX(),k=u._getAxisY(),f=r.engine,d=u._getSymbolStroke(u._chart.series.indexOf(u)),g=t._BasePlotter.cloneStyle(u.style,['fill']),p=t._BasePlotter.cloneStyle(u.style,['stroke']),nt=u.chart._plotrectId;for(f.stroke=d,f.strokeWidth=2,f.textFill=d,c=u._getMinX(),l=u._getMaxX(),c<e.actualMin&&(c=e.actualMin),l>e.actualMax&&(l=e.actualMax),f.startGroup(null,nt),w=u._levels?u._levels.length:0,o=0;o<w;o++){var b=u._levels[o],a=e.convert(c),v=e.convert(l),s=u.uptrend?k.convert(u._actualLow+.01*b*(u._actualHigh-u._actualLow)):k.convert(u._actualHigh-.01*b*(u._actualHigh-u._actualLow));if(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&t._DataInfo.isValid(s)&&(f.drawLine(a,s,v,s,null,g),u.labelPosition!=t.LabelPosition.None)){y=b.toFixed(1)+'%';h=0;(u.uptrend&&o==0||!u.uptrend&&o==w-1)&&(h=2);switch(u.labelPosition){case t.LabelPosition.Left:t.FlexChartCore._renderText(f,y,new n.Point(a,s),0,h,null,null,p);break;case t.LabelPosition.Center:t.FlexChartCore._renderText(f,y,new n.Point(.5*(a+v),s),1,h,null,null,p);break;case t.LabelPosition.Right:t.FlexChartCore._renderText(f,y,new n.Point(v,s),2,h,null,null,p)}}}f.stroke=null;f.strokeWidth=null;f.textFill=null;f.endGroup()},r.prototype._getChartType=function(){return t.ChartType.Line},r}(t.SeriesBase),f,e,o;r.Fibonacci=s;f=function(i){function r(r){i.call(this);this._levels=[38.2,50,61.8];this._labelPosition=t.LabelPosition.Top;r&&n.copy(this,r);this.rendering.addHandler(this._render,this)}return __extends(r,i),Object.defineProperty(r.prototype,"start",{get:function(){return this._start},set:function(i){i!==this.start&&(this._start=n.asType(i,t.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this._end},set:function(i){i!==this.end&&(this._end=n.asType(i,t.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"levels",{get:function(){return this._levels},set:function(t){t!==this._levels&&(this._levels=n.asArray(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(i){i!==this.labelPosition&&(this._labelPosition=n.asEnum(i,t.LabelPosition),this._invalidate())},enumerable:!0,configurable:!0}),r.prototype._render=function(r,f){var b=this._getX(0),h=this._getY(0),c=this._getX(1),o=this._getY(1),et,v,nt,k,y,ot,s,p,d,w,tt,g;if(!(i.prototype._getLength.call(this)<=1)&&u(b)&&u(h)&&u(c)&&u(o)){var l=this._getAxisX(),a=this._getAxisY(),e=f.engine,it,st=this.chart.series.indexOf(this),rt=this._getSymbolStroke(st),ut=t._BasePlotter.cloneStyle(this.style,["fill"]),ft=t._BasePlotter.cloneStyle(this.style,["stroke"]);for(e.stroke=rt,e.strokeWidth=2,e.textFill=rt,et=this.chart._plotrectId,v=o-h,it=e.startGroup(null,et),n.addClass(it,'fibonacci-arcs'),u(b)&&u(h)&&u(c)&&u(o)&&e.drawLines([l.convert(b),l.convert(c)],[a.convert(h),a.convert(o)],null,ut),ot=Math.sqrt(Math.pow(l.convert(c)-l.convert(b),2)+Math.pow(a.convert(o)-a.convert(h),2)),p=new n.Point(c,o),g=0;g<this.levels.length;g++)if(d=this.levels[g]*.01,s=Math.abs(ot*d),u(p.x)&&u(p.y)&&u(s)&&(nt=l.convert(p.x),k=a.convert(p.y),e.drawDonutSegment(nt,k,s,s,v>0?0:Math.PI,Math.PI,null,ut),this.labelPosition!==t.LabelPosition.None&&d!==0)){tt=n.Globalize.format(d,"p1");w=e.measureString(tt,null,null,ft);y=v<=0?k-s:k+s;switch(this.labelPosition){case t.LabelPosition.Center:y+=w.height*.5;break;case t.LabelPosition.Bottom:y+=v<=0?w.height:0;break;default:y+=v<=0?0:w.height}e.drawString(tt,new n.Point(nt-w.width*.5,y),null,ft)}e.stroke=null;e.strokeWidth=null;e.textFill=null;e.endGroup()}},r.prototype._getX=function(t){var i=null;return t===0&&this.start?i=this.start.x:t===1&&this.end&&(i=this.end.x),n.isDate(i)&&(i=n.asDate(i).valueOf()),i},r.prototype._getY=function(n){var t=null;return n===0&&this.start?t=this.start.y:n===1&&this.end&&(t=this.end.y),t},r.prototype._getChartType=function(){return t.ChartType.Line},r}(t.SeriesBase);r.FibonacciArcs=f;e=function(r){function f(i){r.call(this);this._levels=[0,23.6,38.2,50,61.8,100];this._labelPosition=t.LabelPosition.Top;i&&n.copy(this,i);this.rendering.addHandler(this._render,this)}return __extends(f,r),Object.defineProperty(f.prototype,"start",{get:function(){return this._start},set:function(i){i!==this.start&&(this._start=n.asType(i,t.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"end",{get:function(){return this._end},set:function(i){i!==this.end&&(this._end=n.asType(i,t.DataPoint),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"levels",{get:function(){return this._levels},set:function(t){t!==this._levels&&(this._levels=n.asArray(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(i){i!==this.labelPosition&&(this._labelPosition=n.asEnum(i,t.LabelPosition),this._invalidate())},enumerable:!0,configurable:!0}),f.prototype._updateLevels=function(){if(!this.start||!this.end){var l=this.chart._getPlotter(this),c=this._getAxisX(),n=r.prototype.getValues.call(this,0),f=r.prototype.getValues.call(this,1)||l.dataInfo.getXVals(),e,o,s,h;n&&n.length>0&&(s=i._minimum(n),h=i._maximum(n));f&&f.length>0?(e=i._minimum(f),o=i._maximum(f)):(e=c.actualMin,o=c.actualMax);u(e)&&u(s)&&u(o)&&u(h)&&(this.start=new t.DataPoint(e,s),this.end=new t.DataPoint(o,h))}},f.prototype._render=function(i,f){var dt,st;this._updateLevels();var at=this._getX(0),vt=this._getY(0),yt=this._getX(1),pt=this._getY(1);if(!(r.prototype._getLength.call(this)<=1)&&u(at)&&u(vt)&&u(yt)&&u(pt)){var c=this._getAxisX(),h=this._getAxisY(),ti=this.chart.series.indexOf(this),b=f.engine,gt=this._getSymbolStroke(ti),ii=t._BasePlotter.cloneStyle(this.style,["fill"]),wt=t._BasePlotter.cloneStyle(this.style,["stroke"]);b.stroke=gt;b.strokeWidth=2;b.textFill=gt;var nt=pt-vt,ut=yt-at,ri=this.chart._plotrectId,ft,d,tt,w,it,v,bt,p,k,kt,et,e,ot;for(ft=at,tt=vt,d=yt,w=pt,dt=d,b.startGroup(null,ri),st=0;st<this.levels.length;st++)if(d=ut<0?c.actualMin:c.actualMax,kt=this.levels[st]*.01,w=tt+kt*nt,p=(w-tt)/(dt-ft),k=w-p*dt,w=p*d+k,nt>0&&w>h.actualMax?(w=h.actualMax,d=(w-k)/p):nt<0&&w<h.actualMin&&(w=h.actualMin,d=(w-k)/p),u(ft)&&u(tt)&&u(d)&&u(w)&&(it=new n.Point(c.convert(ft),h.convert(tt)),v=new n.Point(c.convert(d),h.convert(w)),b.drawLines([it.x,v.x],[it.y,v.y],null,ii),this.labelPosition!=t.LabelPosition.None)){et=n.Globalize.format(kt,"p1");e=b.measureString(et,null,null,wt);ot=Math.atan((v.y-it.y)/(v.x-it.x))*180/Math.PI;bt=v.clone();v.x=ut>0?v.x-e.width:v.x;var o=ot*Math.PI/180,s=new n.Point,a=new n.Point,y=new n.Point,l=new n.Point,ht=h.convert(h.actualMin),ni=h.convert(h.actualMax),ct=c.convert(c.actualMin),lt=c.convert(c.actualMax),g,rt=bt.clone();switch(this.labelPosition){case t.LabelPosition.Center:v.y+=e.height*.5;rt.y+=e.height*.5;break;case t.LabelPosition.Bottom:v.y+=e.height}ut>0?(this.labelPosition===t.LabelPosition.Top||this.labelPosition===t.LabelPosition.Center?(l=rt.clone(),y.x=l.x+e.height*Math.sin(o),y.y=l.y-e.height*Math.cos(o),s.x=l.x-e.width*Math.cos(o)+e.height*Math.sin(o),s.y=l.y-e.width*Math.sin(o)-e.height*Math.cos(o),a.x=l.x-e.width*Math.cos(o),a.y=l.y-e.width*Math.sin(o)):this.labelPosition===t.LabelPosition.Bottom&&(y=rt.clone(),s.x=y.x-e.width*Math.cos(o),s.y=y.y-e.width*Math.sin(o),a.x=s.x-e.height*Math.sin(o),a.y=s.y+e.height*Math.cos(o),l.x=s.x+e.width*Math.cos(o)-e.height*Math.sin(o),l.y=s.y+e.width*Math.sin(o)+e.height*Math.cos(o)),nt>0?(y.y<ni&&(p=(h.convertBack(y.y)-h.convertBack(s.y))/(c.convertBack(y.x)-c.convertBack(s.x)),k=h.convertBack(y.y)-p*c.convertBack(y.x),g=c.convert((h.actualMax-k)/p),v.x-=Math.abs(y.x-g)),l.x>lt&&(v.x-=Math.abs(lt-l.x))):nt<0&&(l.y>ht&&(p=(h.convertBack(a.y)-h.convertBack(l.y))/(c.convertBack(a.x)-c.convertBack(l.x)),k=h.convertBack(l.y)-p*c.convertBack(l.x),g=c.convert((h.actualMin-k)/p),v.x-=Math.max(Math.abs(g-l.x),Math.abs(ht-l.y))),y.x>lt&&(v.x-=Math.abs(lt-y.x)))):ut<0&&(this.labelPosition===t.LabelPosition.Top||this.labelPosition===t.LabelPosition.Center?(a=rt.clone(),s.x=a.x+e.height*Math.sin(o),s.y=a.y-e.height*Math.cos(o),l.x=a.x+e.width*Math.cos(o),l.y=a.y+e.width*Math.sin(o),y.x=s.x+e.width*Math.cos(o),y.y=s.y+e.width*Math.sin(o)):this.labelPosition===t.LabelPosition.Bottom&&(s=rt.clone(),y.x=s.x+e.width*Math.cos(o),y.y=s.y+e.width*Math.sin(o),a.x=s.x-e.height*Math.sin(o),a.y=s.y+e.height*Math.cos(o),l.x=s.x+e.width*Math.cos(o)-e.height*Math.sin(o),l.y=s.y+e.width*Math.sin(o)+e.height*Math.cos(o)),nt>0?(s.y<ni&&(p=(h.convertBack(s.y)-h.convertBack(y.y))/(c.convertBack(s.x)-c.convertBack(y.x)),k=h.convertBack(s.y)-p*c.convertBack(s.x),g=c.convert((h.actualMax-k)/p),v.x+=Math.abs(s.x-g)),a.x<ct&&(v.x+=Math.abs(ct-a.x))):nt<0&&(a.y>ht&&(p=(h.convertBack(l.y)-h.convertBack(a.y))/(c.convertBack(l.x)-c.convertBack(a.x)),k=h.convertBack(a.y)-p*c.convertBack(a.x),g=c.convert((h.actualMin-k)/p),v.x+=Math.max(Math.abs(g-a.x),Math.abs(ht-a.y))),s.x<ct&&(v.x+=Math.abs(ct-s.x))));ot===0?b.drawString(et,v,null,wt):b.drawStringRotated(et,v,bt,ot,null,wt)}b.stroke=null;b.strokeWidth=null;b.textFill=null;b.endGroup()}},f.prototype._getX=function(t){var i=null;return t===0&&this.start?i=this.start.x:t===1&&this.end&&(i=this.end.x),n.isDate(i)&&(i=n.asDate(i).valueOf()),i},f.prototype._getY=function(n){var t=null;return n===0&&this.start?t=this.start.y:n===1&&this.end&&(t=this.end.y),t},f.prototype._getChartType=function(){return t.ChartType.Line},f}(t.SeriesBase);r.FibonacciFans=e;o=function(i){function r(r){i.call(this);this._levels=[0,1,2,3,5,8,13,21,34];this._labelPosition=t.LabelPosition.Right;r&&n.copy(this,r);this.rendering.addHandler(this._render,this)}return __extends(r,i),Object.defineProperty(r.prototype,"startX",{get:function(){return this._startX},set:function(t){t!==this.startX&&(this._startX=n.isDate(t)?n.asDate(t):n.asNumber(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endX",{get:function(){return this._endX},set:function(t){t!==this.endX&&(this._endX=n.isDate(t)?n.asDate(t):n.asNumber(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"levels",{get:function(){return this._levels},set:function(t){t!==this._levels&&(this._levels=n.asArray(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"labelPosition",{get:function(){return this._labelPosition},set:function(i){i!==this.labelPosition&&(this._labelPosition=n.asEnum(i,t.LabelPosition),this._invalidate())},enumerable:!0,configurable:!0}),r.prototype._render=function(r,f){var h,v,a;if(this._updateLevels(),h=this._getX(0),v=this._getX(1),!(i.prototype._getLength.call(this)<=1)&&u(h)&&u(v)){var y=v-h,p=this._getAxisX(),c=this._getAxisY(),nt=this._chart.series.indexOf(this),o=f.engine,s=2,k=this._getSymbolStroke(nt),tt=t._BasePlotter.cloneStyle(this.style,["fill"]),d=t._BasePlotter.cloneStyle(this.style,["stroke"]),g=c.convert(c.actualMin),it=c.convert(c.actualMax),w,e,l,b,rt=this.chart._plotrectId;if(o.stroke=k,o.strokeWidth=s,o.textFill=k,y!==0){for(o.startGroup(null,rt),a=0;a<this.levels.length;a++)if((w=this.levels[a],e=y*w+h,!(e<p.actualMin)&&!(p.actualMax<e)&&u(e))&&(e=p.convert(e),o.drawLine(e,g,e,it,null,tt),this.labelPosition!==t.LabelPosition.None)){b=n.Globalize.format(w,"n0");l=o.measureString(b,null,null,d);switch(this.labelPosition){case t.LabelPosition.Left:e-=l.width+s;break;case t.LabelPosition.Center:e-=l.width/2;break;case t.LabelPosition.Right:e+=s;break;default:e=y<0?e-l.width-s:e+s}o.drawString(b,new n.Point(e,g),null,d)}o.stroke=null;o.strokeWidth=null;o.textFill=null;o.endGroup()}}},r.prototype._updateLevels=function(){var u=this.chart._getPlotter(this),t=i.prototype.getValues.call(this,1)||u.dataInfo.getXVals();if(!(i.prototype._getLength.call(this)<=1)){var f=this._getX(0),e=this._getX(1),r=n.isNumber(f)&&n.isNumber(e);r||t?!r&&t&&(this._startX=t[0],this._endX=t[1]):(this._startX=0,this._endX=1)}},r.prototype._getX=function(t){var i=null;return t===0?i=this.startX:t===1&&(i=this.endX),n.isDate(i)&&(i=n.asDate(i).valueOf()),i},r.prototype._getChartType=function(){return t.ChartType.Line},r}(t.SeriesBase);r.FibonacciTimeZones=o})(r=i.analytics||(i.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){var r;(function(r){"use strict";var u=function(i){function r(){i.call(this);this._seriesCount=1}return __extends(r,i),Object.defineProperty(r.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_hitTester",{get:function(){return this._plotter&&!this.__hitTester&&(this.__hitTester=this._plotter.hitTester),this.__hitTester},enumerable:!0,configurable:!0}),r.prototype._getChartType=function(){return t.ChartType.Line},r.prototype._getXValues=function(){return i.prototype.getValues.call(this,1)||this._plotter.dataInfo.getXVals()},r.prototype._getDataPoint=function(n,i,r,u,f,e){var o=new t._DataPoint(r,u,n,i);return o.y=i,o.yfmt=e._formatValue(i),o.x=n,o.xfmt=f._formatValue(n),o},r.prototype._shouldCalculate=function(){return!0},r.prototype._init=function(){},r.prototype._calculate=function(){},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this.__plotter=null;this.__hitTester=null},r.prototype._getName=function(n){var i=undefined,t;return this.name&&(this.name.indexOf(",")?(t=this.name.split(","),t&&t.length-1>=n&&(i=t[n].trim())):i=this.name),i},r.prototype._getStyles=function(n){var t=null,i,r;if(n<0||this._styles===null)return t;i=0;for(r in this._styles){if(i===n&&this._styles.hasOwnProperty(r)){t=this._styles[r];break}i++}return t},r.prototype.legendItemLength=function(){return this._seriesCount},r.prototype.measureLegendItem=function(t,i){var u=this._getName(i),r=new n.Size(0,0);return u&&(r=this._measureLegendItem(t,this._getName(i))),r},r.prototype.drawLegendItem=function(n,t,i){var r=this._getStyles(i)||this.style,u=this._getName(i);u&&this._drawLegendItem(n,t,this._getChartType(),this._getName(i),r,this.symbolStyle)},r}(t.SeriesBase),f;r.OverlayIndicatorBase=u;f=function(r){function u(){r.call(this);this._period=14}return __extends(u,r),Object.defineProperty(u.prototype,"period",{get:function(){return this._period},set:function(t){t!==this._period&&(this._period=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),u.prototype.getValues=function(n){var t=null;return r.prototype._getLength.call(this)<=0?t:(this._shouldCalculate()&&(this._init(),this._calculate()),n===0?t=this._yvals:n===1&&(t=this._xvals),t)},u.prototype.getDataRect=function(){var u=null;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());var f=i._minimum(this._xvals),o=i._maximum(this._xvals),e=i._minimum(this._yvals),s=i._maximum(this._yvals);return t._DataInfo.isValid(f)&&t._DataInfo.isValid(o)&&t._DataInfo.isValid(e)&&t._DataInfo.isValid(s)&&(u=new n.Rect(f,e,o-f,s-e)),u},u.prototype._clearValues=function(){r.prototype._clearValues.call(this);this._xvals=null;this._yvals=null},u.prototype._shouldCalculate=function(){return!this._yvals||!this._xvals},u.prototype._init=function(){r.prototype._init.call(this);this._yvals=[];this._xvals=[]},u.prototype._getItem=function(n){if(r.prototype._getLength.call(this)<=0)return r.prototype._getItem.call(this,n);this._shouldCalculate()&&(this._init(),this._calculate());var t=r.prototype._getLength.call(this),u=i._minimum(this._yvals.length,this._xvals.length);return n=t-u+n,r.prototype._getItem.call(this,n)},u}(u);r.SingleOverlayIndicatorBase=f})(r=i.analytics||(i.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(n){var t;(function(n){var t;(function(t){"use strict";var i=function(t){function i(){t.call(this);this.period=14}return __extends(i,t),i.prototype._calculate=function(){if(!(t.prototype._getLength.call(this)<=0)){var i=t.prototype._getBindingValues.call(this,0),u=t.prototype._getBindingValues.call(this,1),f=t.prototype._getBindingValues.call(this,3),r=this._getXValues();this._yvals=n._avgTrueRng(i,u,f,this.period);this._xvals=r?r.slice(this.period-1):n._range(this.period-1,i.length)}},i}(t.SingleOverlayIndicatorBase);t.ATR=i})(t=n.analytics||(n.analytics={}))})(t=n.finance||(n.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){var i;(function(i){"use strict";function r(i,r,u,f,e){var v;n.asArray(i,!1);n.asArray(r,!1);n.asArray(u,!1);n.asInt(f,!1,!0);n.asNumber(e,!1,!0);var c=t._minimum(i.length,r.length,u.length),s=[],l=[],h,o,a=[];for(n.assert(c>f&&f>1,"CCI period must be an integer less than the length of the data and greater than one."),o=0;o<c;o++)s.push(t._average(i[o],r[o],u[o]));for(h=t._sma(s,f),o=0;o<h.length;o++)v=s.slice(o,f+o).reduce(function(n,t){return n+Math.abs(h[o]-t)},0),l.push(v/f);for(s.splice(0,f-1),o=0;o<h.length;o++)a.push((s[o]-h[o])/(e*l[o]));return a}var u=function(i){function u(){i.call(this);this._constant=.015;this.period=20}return __extends(u,i),Object.defineProperty(u.prototype,"constant",{get:function(){return this._constant},set:function(t){t!==this._constant&&(this._constant=n.asNumber(t,!1),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),u.prototype._calculate=function(){var n=i.prototype._getLength.call(this);if(!(n<=0)){var f=i.prototype._getBindingValues.call(this,0),e=i.prototype._getBindingValues.call(this,1),o=i.prototype._getBindingValues.call(this,3),u=this._getXValues();this._yvals=r(f,e,o,this.period,this.constant);this._xvals=u?u.slice(this.period-1):t._range(this.period-1,n-1)}},u}(i.SingleOverlayIndicatorBase);i.CCI=u;i._cci=r})(i=t.analytics||(t.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){var i;(function(i){"use strict";function r(i,r,u,f){n.asArray(i,!1);n.asArray(r,!1);n.asArray(u,!1);n.asInt(f,!1,!0);var c=t._minimum(i.length,r.length,u.length),o=[],s=[],h=[],e;for(n.assert(c>f&&f>1,"Williams %R period must be an integer less than the length of the data and greater than one."),e=f;e<=i.length;e++)o.push(t._maximum(i.slice(e-f,e))),s.push(t._minimum(r.slice(e-f,e)));for(u.splice(0,f-1),e=0;e<o.length;e++)h.push((o[e]-u[e])/(o[e]-s[e])*-100);return h}var u=function(n){function i(){n.call(this);this.period=14}return __extends(i,n),i.prototype._calculate=function(){var i=n.prototype._getLength.call(this);if(!(i<=0)){var f=n.prototype._getBindingValues.call(this,0),e=n.prototype._getBindingValues.call(this,1),o=n.prototype._getBindingValues.call(this,3),u=this._getXValues();this._yvals=r(f,e,o,this.period);this._xvals=u?u.slice(this.period-1):t._range(this.period-1,i-1)}},i}(i.SingleOverlayIndicatorBase);i.WilliamsR=u;i._williamsR=r})(i=t.analytics||(t.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){var r;(function(r){"use strict";(function(n){n[n.Simple=0]="Simple";n[n.Exponential=1]="Exponential"})(r.MovingAverageType||(r.MovingAverageType={}));var u=r.MovingAverageType,f=function(r){function f(){r.call(this);this._period=20;this._type=u.Simple;this._size=.025;this.rendering.addHandler(this._rendering,this)}return __extends(f,r),Object.defineProperty(f.prototype,"period",{get:function(){return this._period},set:function(t){t!==this._period&&(this._period=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"type",{get:function(){return this._type},set:function(t){t!==this._type&&(this._type=n.asEnum(t,u,!1),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return this._size},set:function(t){t!==this._size&&(this._size=n.asNumber(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),f.prototype.getDataRect=function(){var u=null;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());var o=this._upperYVals.concat(this._lowerYVals),f=i._minimum(this._xVals),s=i._maximum(this._xVals),e=i._minimum(o),h=i._maximum(o);return t._DataInfo.isValid(f)&&t._DataInfo.isValid(s)&&t._DataInfo.isValid(e)&&t._DataInfo.isValid(h)&&(u=new n.Rect(f,e,s-f,h-e)),u},f.prototype._clearValues=function(){r.prototype._clearValues.call(this);this._upperYVals=null;this._lowerYVals=null;this._xVals=null},f.prototype._init=function(){r.prototype._init.call(this);this._upperYVals=[];this._lowerYVals=[];this._xVals=[]},f.prototype._shouldCalculate=function(){return!this._upperYVals||!this._lowerYVals||!this._xVals},f.prototype._calculate=function(){var e=this,t,f,n;if(!(r.prototype._getLength.call(this)<=0)){t=r.prototype.getValues.call(this,0);f=this._getXValues();switch(this.type){case u.Exponential:n=i._ema(t,this.period);break;case u.Simple:default:n=i._sma(t,this.period)}this._xVals=f?f.slice(this.period-1):i._range(this.period-1,r.prototype._getLength.call(this)-1);this._upperYVals=n.map(function(n){return n+n*e.size});this._lowerYVals=n.map(function(n){return n-n*e.size})}},f.prototype._rendering=function(u,f){var e;if(!(r.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var o=this.chart.series.indexOf(this),h=f.engine,w=this._getAxisX(),l=this._getAxisY(),a=i._minimum(this._upperYVals.length,this._lowerYVals.length,this._xVals.length),k=t._BasePlotter.cloneStyle(this.style,["fill"]),g=this._getSymbolStroke(o),d=this.chart._plotrectId;if(a&&!(a<=0)){h.stroke=g;h.strokeWidth=2;var s=[],v=[],y=[],nt=this._getLength(),p,c,b;for(e=0;e<a;e++)b=nt-a+e,s.push(w.convert(this._xVals[e])),v.push(l.convert(this._upperYVals[e])),p=this._getDataPoint(this._xVals[e],this._upperYVals[e],o,b,w,l),c=new t._CircleArea(new n.Point(s[e],v[e]),.5*h.strokeWidth),c.tag=p,this._hitTester.add(c,o),y.push(l.convert(this._lowerYVals[e])),p=this._getDataPoint(this._xVals[e],this._lowerYVals[e],o,b,w,l),c=new t._CircleArea(new n.Point(s[e],y[e]),.5*h.strokeWidth),c.tag=p,this._hitTester.add(c,o);this._hitTester.add(new t._LinesArea(s,v),o);this._hitTester.add(new t._LinesArea(s,y),o);h.drawLines(s,v,null,k,d);h.drawLines(s,y,null,k,d)}}},f.prototype.getCalculatedValues=function(t){t=n.asString(t,!1);var u=[],i=0;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());switch(t){case"upperEnvelope":for(;i<this._upperYVals.length;i++)u.push({x:this._xVals[i],y:this._upperYVals[i]});break;case"lowerEnvelope":for(;i<this._lowerYVals.length;i++)u.push({x:this._xVals[i],y:this._lowerYVals[i]})}return u},f}(r.OverlayIndicatorBase);r.Envelopes=f})(r=i.analytics||(i.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){var r;(function(r){"use strict";function u(t,r,u){var e,o,f;for(n.asArray(t,!1),n.asInt(r,!1,!0),n.asNumber(u,!1,!0),n.assert(t.length>r&&r>1,"Bollinger Bands period must be an integer less than the length of the data and greater than one."),e=i._sma(t,r),o=[],f=r;f<=t.length;f++)o.push(i._stdDeviation(t.slice(f-r,f)));var s=e,h=e.map(function(n,t){return n+o[t]*u}),c=e.map(function(n,t){return n-o[t]*u});return{lowers:c,middles:s,uppers:h}}var f=function(r){function f(){r.call(this);this._period=20;this._multiplier=2;this.rendering.addHandler(this._rendering,this)}return __extends(f,r),Object.defineProperty(f.prototype,"period",{get:function(){return this._period},set:function(t){t!==this._period&&(this._period=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"multiplier",{get:function(){return this._multiplier},set:function(t){t!==this._multiplier&&(this._multiplier=n.asNumber(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),f.prototype.getDataRect=function(){if(r.prototype._getLength.call(this)<=0)return null;this._shouldCalculate()&&(this._init(),this._calculate());var e=this._upperYVals.concat(this._lowerYVals),u=i._minimum(this._xVals),o=i._maximum(this._xVals),f=i._minimum(e),s=i._maximum(e);return t._DataInfo.isValid(u)&&t._DataInfo.isValid(o)&&t._DataInfo.isValid(f)&&t._DataInfo.isValid(s)?new n.Rect(u,f,o-u,s-f):null},f.prototype._clearValues=function(){r.prototype._clearValues.call(this);this._upperYVals=null;this._middleYVals=null;this._lowerYVals=null;this._xVals=null},f.prototype._shouldCalculate=function(){return!this._upperYVals||!this._middleYVals||!this._lowerYVals||!this._xVals},f.prototype._init=function(){r.prototype._init.call(this);this._upperYVals=[];this._middleYVals=[];this._lowerYVals=[];this._xVals=[]},f.prototype._calculate=function(){var t=r.prototype._getLength.call(this);if(!(t<=0)){var e=r.prototype.getValues.call(this,0),f=this._getXValues(),n=u(e,this.period,this.multiplier);this._upperYVals=n.uppers;this._middleYVals=n.middles;this._lowerYVals=n.lowers;this._xVals=f?f.slice(this.period-1):i._range(this.period-1,t-1)}},f.prototype._rendering=function(u,f){var e;if(!(r.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var o=this.chart.series.indexOf(this),c=f.engine,v=this._getAxisX(),l=this._getAxisY(),y=i._minimum(this._upperYVals.length,this._middleYVals.length,this._lowerYVals.length,this._xVals.length),d=t._BasePlotter.cloneStyle(this.style,["fill"]),nt=this._getSymbolStroke(o),g=this.chart._plotrectId;if(y&&!(y<=0)){c.stroke=nt;c.strokeWidth=2;var s=[],p=[],w=[],b=[],tt=this._getLength(),a,h,k;for(e=0;e<y;e++)k=tt-y+e,s.push(v.convert(this._xVals[e])),p.push(l.convert(this._upperYVals[e])),a=this._getDataPoint(this._xVals[e],this._upperYVals[e],o,k,v,l),h=new t._CircleArea(new n.Point(s[e],p[e]),.5*c.strokeWidth),h.tag=a,this._hitTester.add(h,o),w.push(l.convert(this._middleYVals[e])),a=this._getDataPoint(this._xVals[e],this._middleYVals[e],o,k,v,l),h=new t._CircleArea(new n.Point(s[e],w[e]),.5*c.strokeWidth),h.tag=a,this._hitTester.add(h,o),b.push(l.convert(this._lowerYVals[e])),a=this._getDataPoint(this._xVals[e],this._lowerYVals[e],o,k,v,l),h=new t._CircleArea(new n.Point(s[e],b[e]),.5*c.strokeWidth),h.tag=a,this._hitTester.add(h,o);this._hitTester.add(new t._LinesArea(s,p),o);this._hitTester.add(new t._LinesArea(s,w),o);this._hitTester.add(new t._LinesArea(s,b),o);c.drawLines(s,p,null,d,g);c.drawLines(s,w,null,d,g);c.drawLines(s,b,null,d,g)}}},f.prototype.getCalculatedValues=function(t){t=n.asString(t,!1);var u=[],i=0;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());switch(t){case"upperBand":for(;i<this._upperYVals.length;i++)u.push({x:this._xVals[i],y:this._upperYVals[i]});break;case"middleBand":for(;i<this._middleYVals.length;i++)u.push({x:this._xVals[i],y:this._middleYVals[i]});break;case"lowerBand":for(;i<this._lowerYVals.length;i++)u.push({x:this._xVals[i],y:this._lowerYVals[i]})}return u},f}(r.OverlayIndicatorBase);r.BollingerBands=f;r._bollingerBands=u})(r=i.analytics||(i.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){var i;(function(i){"use strict";function r(i,r){n.asArray(i,!1);n.asInt(r,!0,!1);n.assert(i.length>r&&r>1,"RSI period must be an integer less than the length of the data and greater than one.");for(var e=[],o=[],s=[],h,c,l=[],f,u=1;u<i.length;u++)e.push(i[u]-i[u-1]);for(h=e.map(function(n){return n>0?n:0}),c=e.map(function(n){return n<0?Math.abs(n):0}),u=r;u<=e.length;u++)u===r?(o.push(t._sum(h.slice(u-r,u))/r),s.push(t._sum(c.slice(u-r,u))/r)):(o.push((h[u-1]+o[u-r-1]*(r-1))/r),s.push((c[u-1]+s[u-r-1]*(r-1))/r)),f=o[u-r]/s[u-r],f=isFinite(f)?f:0,l.push(100-100/(1+f));return l}var u=function(n){function i(){n.call(this);this.period=14}return __extends(i,n),i.prototype._calculate=function(){var u=n.prototype._getLength.call(this),f,i;u<=0||(f=n.prototype._getBindingValues.call(this,0),i=this._getXValues(),this._yvals=r(f,this.period),this._xvals=i?i.slice(this.period):t._range(this.period,u))},i}(i.SingleOverlayIndicatorBase);i.RSI=u;i._rsi=r})(i=t.analytics||(t.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){var r;(function(r){"use strict";function o(t,r,u,f){var c,s,a;n.asArray(t,!1);n.asInt(r,!1,!0);n.asInt(u,!1,!0);n.asInt(f,!1,!0);c=r>u;c&&(s=u,u=r,r=s);var l=i._ema(t,r),y=i._ema(t,u),o=[],v=[],h,e;for(l.splice(0,u-r),e=0;e<l.length;e++)s=l[e]-y[e],c&&(s*=-1),o.push(s);for(h=i._ema(o,f),a=o.slice(o.length-h.length,o.length),e=0;e<a.length;e++)v.push(a[e]-h[e]);return{macds:o,signals:h,histograms:v}}var u=function(t){function r(){t.call(this);this._fastPeriod=12;this._slowPeriod=26;this._smoothingPeriod=9}return __extends(r,t),Object.defineProperty(r.prototype,"fastPeriod",{get:function(){return this._fastPeriod},set:function(t){t!==this._fastPeriod&&(this._fastPeriod=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"slowPeriod",{get:function(){return this._slowPeriod},set:function(t){t!==this._slowPeriod&&(this._slowPeriod=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"smoothingPeriod",{get:function(){return this._smoothingPeriod},set:function(t){t!==this._smoothingPeriod&&(this._smoothingPeriod=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),r.prototype._clearValues=function(){t.prototype._clearValues.call(this);this._macdVals=null;this._macdXVals=null;this._signalVals=null;this._signalXVals=null;this._histogramVals=null;this._histogramXVals=null},r.prototype._shouldCalculate=function(){return!this._macdVals||!this._macdXVals||!this._signalVals||!this._signalXVals||!this._histogramVals||!this._histogramXVals},r.prototype._init=function(){t.prototype._init.call(this);this._macdVals=[];this._macdXVals=[];this._signalVals=[];this._signalXVals=[];this._histogramVals=[];this._histogramXVals=[]},r.prototype._calculate=function(){var n=t.prototype._getLength.call(this);if(!(n<=0)){var f=t.prototype.getValues.call(this,0),r=this._getXValues(),u=o(f,this.fastPeriod,this.slowPeriod,this.smoothingPeriod);this._macdVals=u.macds;this._signalVals=u.signals;this._histogramVals=u.histograms;this._macdXVals=r?r.slice(n-this._macdVals.length,n):i._range(n-this._macdVals.length,n-1);this._signalXVals=r?r.slice(n-this._signalVals.length,n):i._range(n-this._signalVals.length,n-1);this._histogramXVals=r?r.slice(n-this._histogramVals.length,n):i._range(n-this._histogramVals.length,n-1)}},r}(r.OverlayIndicatorBase),f,e;r.MacdBase=u;f=function(r){function u(){r.call(this);this._seriesCount=2;this.rendering.addHandler(this._rendering,this)}return __extends(u,r),Object.defineProperty(u.prototype,"styles",{get:function(){return this._styles},set:function(n){n!==this._styles&&(this._styles=n,this._invalidate())},enumerable:!0,configurable:!0}),u.prototype.getDataRect=function(){var e=null,u,f;if(r.prototype._getLength.call(this)<=0)return e;this._shouldCalculate()&&(this._init(),this._calculate());u=[];f=[];f.push.apply(f,this._macdXVals);f.push.apply(f,this._signalXVals);u.push.apply(u,this._macdVals);u.push.apply(u,this._signalVals);var o=i._minimum(f),h=i._maximum(f),s=i._minimum(u),c=i._maximum(u);return t._DataInfo.isValid(o)&&t._DataInfo.isValid(h)&&t._DataInfo.isValid(s)&&t._DataInfo.isValid(c)&&(e=new n.Rect(o,s,h-o,c-s)),e},u.prototype._rendering=function(i,u){if(!(r.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var o=this.chart.series.indexOf(this),e=u.engine,a=this._getAxisX(),v=this._getAxisY(),nt=t._BasePlotter.cloneStyle(this.style,["fill"]),y=this._getSymbolStroke(o),tt=this.chart._plotrectId,p=2,c=null,it=y,rt=p,l=null,ut=y,ft=p;this.styles&&n.isObject(this.styles)&&(this.styles.macdLine&&n.isObject(this.styles.macdLine)&&(c=t._BasePlotter.cloneStyle(this.styles.macdLine,["fill"]),it=c.stroke?c.stroke:y,rt=c.strokeWidth?c.strokeWidth:p),this.styles.signalLine&&n.isObject(this.styles.signalLine)&&(l=t._BasePlotter.cloneStyle(this.styles.signalLine,["fill"]),ut=l.stroke?l.stroke:y,ft=l.strokeWidth?l.strokeWidth:p));for(var w=[],b=[],k=[],d=[],s,h,et=this._getLength(),g,f=0;f<this._macdVals.length;f++)g=et-this._macdVals.length+f,b.push(a.convert(this._macdXVals[f])),w.push(v.convert(this._macdVals[f])),s=this._getDataPoint(this._macdXVals[f],this._macdVals[f],o,g,a,v),s.name=this._getName(0),h=new t._CircleArea(new n.Point(b[f],w[f]),.5*e.strokeWidth),h.tag=s,this._hitTester.add(h,o);for(this._hitTester.add(new t._LinesArea(b,w),o),e.stroke=it,e.strokeWidth=rt,e.drawLines(b,w,null,nt,tt),f=0;f<this._signalVals.length;f++)g=et-this._signalVals.length+f,d.push(a.convert(this._signalXVals[f])),k.push(v.convert(this._signalVals[f])),s=this._getDataPoint(this._signalXVals[f],this._signalVals[f],o,g,a,v),s.name=this._getName(1),h=new t._CircleArea(new n.Point(d[f],k[f]),.5*e.strokeWidth),h.tag=s,this._hitTester.add(h,o);this._hitTester.add(new t._LinesArea(d,k),o);e.stroke=ut;e.strokeWidth=ft;e.drawLines(d,k,null,nt,tt)}},u.prototype.getCalculatedValues=function(t){t=n.asString(t,!1);var u=[],i=0;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());switch(t){case"macdLine":for(;i<this._macdVals.length;i++)u.push({x:this._macdXVals[i],y:this._macdVals[i]});break;case"signalLine":for(;i<this._signalVals.length;i++)u.push({x:this._signalXVals[i],y:this._signalVals[i]})}return u},u}(u);r.Macd=f;e=function(r){function u(){r.call(this)}return __extends(u,r),u.prototype.getValues=function(n){var t=null;return r.prototype._getLength.call(this)<=0?t:(this._shouldCalculate()&&(this._init(),this._calculate()),n===0?t=this._histogramVals:n===1&&(t=this._histogramXVals),t)},u.prototype.getDataRect=function(){var u=null;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());var f=i._minimum(this._histogramXVals),o=i._maximum(this._histogramXVals),e=i._minimum(this._histogramVals),s=i._maximum(this._histogramVals);return t._DataInfo.isValid(f)&&t._DataInfo.isValid(o)&&t._DataInfo.isValid(e)&&t._DataInfo.isValid(s)&&(u=new n.Rect(f,e,o-f,s-e)),u},u.prototype._getChartType=function(){return t.ChartType.Column},u.prototype._getItem=function(n){var t=r.prototype._getLength.call(this),u=i._minimum(this._histogramVals.length,this._histogramXVals.length);return n=t-u+n,r.prototype._getItem.call(this,n)},u}(u);r.MacdHistogram=e;r._macd=o})(r=i.analytics||(i.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){var r;(function(r){"use strict";function u(t,r,u,f,e,o){n.asArray(t,!1);n.asArray(r,!1);n.asArray(u,!1);n.asInt(f,!1,!0);n.asInt(e,!1,!0);n.asInt(o,!0,!0);for(var l=[],c=[],h=[],a,s=f;s<=t.length;s++)l.push(i._maximum(t.slice(s-f,s))),c.push(i._minimum(r.slice(s-f,s)));for(u=u.slice(f-1),s=0;s<u.length;s++)h.push((u[s]-c[s])/(l[s]-c[s])*100);return o&&o>1&&(h=i._sma(h,o)),a=i._sma(h,e),{ks:h,ds:a}}var f=function(r){function f(){r.call(this);this._kPeriod=14;this._dPeriod=3;this._smoothingPeriod=1;this._seriesCount=2;this.rendering.addHandler(this._rendering,this)}return __extends(f,r),Object.defineProperty(f.prototype,"kPeriod",{get:function(){return this._kPeriod},set:function(t){t!==this._kPeriod&&(this._kPeriod=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dPeriod",{get:function(){return this._dPeriod},set:function(t){t!==this._dPeriod&&(this._dPeriod=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"smoothingPeriod",{get:function(){return this._smoothingPeriod},set:function(t){t!==this._smoothingPeriod&&(this._smoothingPeriod=n.asInt(t,!1,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"styles",{get:function(){return this._styles},set:function(n){n!==this._styles&&(this._styles=n,this._invalidate())},enumerable:!0,configurable:!0}),f.prototype.getDataRect=function(){var u=null;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());var o=this._kVals.concat(this._dVals),s=this._kXVals.concat(this._dXVals),f=i._minimum(s),h=i._maximum(s),e=i._minimum(o),c=i._maximum(o);return t._DataInfo.isValid(f)&&t._DataInfo.isValid(h)&&t._DataInfo.isValid(e)&&t._DataInfo.isValid(c)&&(u=new n.Rect(f,e,h-f,c-e)),u},f.prototype._clearValues=function(){r.prototype._clearValues.call(this);this._kVals=null;this._kXVals=null;this._dVals=null;this._dXVals=null},f.prototype._shouldCalculate=function(){return!this._kVals||!this._kXVals||!this._dVals||!this._dXVals},f.prototype._init=function(){r.prototype._init.call(this);this._kVals=[];this._kXVals=[];this._dVals=[];this._dXVals=[]},f.prototype._calculate=function(){var f=r.prototype._getLength.call(this);if(!(r.prototype._getLength.call(this)<=0)){var e=r.prototype._getBindingValues.call(this,0),o=r.prototype._getBindingValues.call(this,1),s=r.prototype._getBindingValues.call(this,3),n=this._getXValues(),t=u(e,o,s,this.kPeriod,this.dPeriod,this.smoothingPeriod);this._kVals=t.ks;this._dVals=t.ds;this._kXVals=n?n.slice(this.kPeriod-1):i._range(this.kPeriod-1,f-1);this.smoothingPeriod&&this.smoothingPeriod>1&&(this._kXVals=this._kXVals.slice(this._kXVals.length-this._kVals.length,this._kXVals.length));this._dXVals=this._kXVals.slice(this._kXVals.length-this._dVals.length,this._kXVals.length)}},f.prototype._rendering=function(i,u){if(!(r.prototype._getLength.call(this)<=0)){this._shouldCalculate()&&(this._init(),this._calculate());var o=this.chart.series.indexOf(this),e=u.engine,a=this._getAxisX(),v=this._getAxisY(),nt=t._BasePlotter.cloneStyle(this.style,["fill"]),y=this._getSymbolStroke(o),tt=this.chart._plotrectId,p=2,c=null,it=y,rt=p,l=null,ut=y,ft=p;this.styles&&n.isObject(this.styles)&&(this.styles.kLine&&n.isObject(this.styles.kLine)&&(c=t._BasePlotter.cloneStyle(this.styles.kLine,["fill"]),it=c.stroke?c.stroke:y,rt=c.strokeWidth?c.strokeWidth:p),this.styles.dLine&&n.isObject(this.styles.dLine)&&(l=t._BasePlotter.cloneStyle(this.styles.dLine,["fill"]),ut=l.stroke?l.stroke:y,ft=l.strokeWidth?l.strokeWidth:p));for(var w=[],b=[],k=[],d=[],et=this._getLength(),s,h,g,f=0;f<this._kVals.length;f++)g=et-this._kVals.length+f,b.push(a.convert(this._kXVals[f])),w.push(v.convert(this._kVals[f])),s=this._getDataPoint(this._kXVals[f],this._kVals[f],o,g,a,v),s.name=this._getName(0),h=new t._CircleArea(new n.Point(b[f],w[f]),.5*e.strokeWidth),h.tag=s,this._hitTester.add(h,o);for(this._hitTester.add(new t._LinesArea(b,w),o),e.stroke=it,e.strokeWidth=rt,e.drawLines(b,w,null,nt,tt),f=0;f<this._dVals.length;f++)g=et-this._dVals.length+f,d.push(a.convert(this._dXVals[f])),k.push(v.convert(this._dVals[f])),s=this._getDataPoint(this._dXVals[f],this._dVals[f],o,g,a,v),s.name=this._getName(1),h=new t._CircleArea(new n.Point(d[f],k[f]),.5*e.strokeWidth),h.tag=s,this._hitTester.add(h,o);this._hitTester.add(new t._LinesArea(d,k),o);e.stroke=ut;e.strokeWidth=ft;e.drawLines(d,k,null,nt,tt)}},f.prototype.getCalculatedValues=function(t){t=n.asString(t,!1);var u=[],i=0;if(r.prototype._getLength.call(this)<=0)return u;this._shouldCalculate()&&(this._init(),this._calculate());switch(t){case"kLine":for(;i<this._kVals.length;i++)u.push({x:this._kXVals[i],y:this._kVals[i]});break;case"dLine":for(;i<this._dVals.length;i++)u.push({x:this._dXVals[i],y:this._dVals[i]})}return u},f}(r.OverlayIndicatorBase);r.Stochastic=f;r._stochastic=u})(r=i.analytics||(i.analytics={}))})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))