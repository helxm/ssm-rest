/*
    *
    * Wijmo Library 5.20162.188
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){var t;(function(t){var i;(function(t){"use strict";function o(t){return n.asNumber(t,!0,!1),t>0?Math.floor(t):Math.ceil(t)}function r(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n.asArray(t,!1),t.reduce(function(t,i){return t+n.asNumber(i)},0)}function i(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n.asArray(t,!1),r(t)/t.length}function s(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n.asArray(t,!1),Math.min.apply(null,t)}function h(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n.asArray(t,!1),Math.max.apply(null,t)}function u(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments));n.asArray(t,!1);var r=i(t),u=t.map(function(n){return Math.pow(n-r,2)});return i(u)}function c(t){return arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n.asArray(t,!1),Math.sqrt(u(t))}function l(t,r,u,e){var o;e===void 0&&(e=14);n.asArray(t,!1);n.asArray(r,!1);n.asArray(u,!1);n.asInt(e,!1,!0);var h=f(t,r,u,e),c=Math.min(t.length,r.length,u.length,h.length),s=[];for(n.assert(c>e&&e>1,"Average True Range period must be an integer less than the length of the data and greater than one."),o=0;o<c;o++)n.asNumber(t[o],!1),n.asNumber(r[o],!1),n.asNumber(u[o],!1),n.asNumber(h[o],!1),o+1===e?s.push(i(h.slice(0,e))):o+1>e&&s.push(((e-1)*s[s.length-1]+h[o])/e);return s}function f(t,i,r,u){var o,e,f;for(u===void 0&&(u=14),n.asArray(t,!1),n.asArray(i,!1),n.asArray(r,!1),n.asInt(u,!1,!0),o=Math.min(t.length,i.length,r.length),e=[],n.assert(o>u&&u>1,"True Range period must be an integer less than the length of the data and greater than one."),f=0;f<o;f++)n.asNumber(t[f],!1),n.asNumber(i[f],!1),n.asNumber(r[f],!1),f===0?e.push(t[f]-i[f]):e.push(Math.max(t[f]-i[f],Math.abs(t[f]-r[f-1]),Math.abs(i[f]-r[f-1])));return e}function e(t,r){var f,u;for(n.asArray(t,!1),n.asNumber(r,!1,!0),n.assert(t.length>r&&r>1,"Simple Moving Average period must be an integer less than the length of the data and greater than one."),f=[],u=r;u<=t.length;u++)f.push(i(t.slice(u-r,u)));return f}function a(t,i){var r;n.asArray(t,!1);n.asNumber(i,!1,!0);n.assert(t.length>i&&i>1,"Exponential Moving Average period must be an integer less than the length of the data and greater than one.");var u=[],f=2/(i+1),o=e(t,i);for(t=t.slice(i-1),r=0;r<t.length;r++)r===0?u.push(o[0]):u.push((t[r]-u[r-1])*f+u[r-1]);return u}function v(t,i,r){var f,u;for(r===void 0&&(r=1),n.asNumber(t,!1),n.asNumber(i,!1),n.asNumber(r,!1),n.assert(t<i,"begin argument must be less than end argument."),f=[],u=t;u<=i;u+=r)f.push(u);return f}t._trunc=o;t._sum=r;t._average=i;t._minimum=s;t._maximum=h;t._variance=u;t._stdDeviation=c;t._avgTrueRng=l;t._trueRng=f;t._sma=e;t._ema=a;t._range=v})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';(function(n){n[n.Column=0]="Column";n[n.Scatter=1]="Scatter";n[n.Line=2]="Line";n[n.LineSymbols=3]="LineSymbols";n[n.Area=4]="Area";n[n.Candlestick=5]="Candlestick";n[n.HighLowOpenClose=6]="HighLowOpenClose";n[n.HeikinAshi=7]="HeikinAshi";n[n.LineBreak=8]="LineBreak";n[n.Renko=9]="Renko";n[n.Kagi=10]="Kagi";n[n.ColumnVolume=11]="ColumnVolume";n[n.EquiVolume=12]="EquiVolume";n[n.CandleVolume=13]="CandleVolume";n[n.ArmsCandleVolume=14]="ArmsCandleVolume"})(i.FinancialChartType||(i.FinancialChartType={}));var r=i.FinancialChartType,u=function(u){function f(n,t){u.call(this,n,t);this._chartType=r.Line;this.__heikinAshiPlotter=null;this.__lineBreakPlotter=null;this.__renkoPlotter=null;this.__kagiPlotter=null}return __extends(f,u),Object.defineProperty(f.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,r),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_heikinAshiPlotter",{get:function(){return this.__heikinAshiPlotter===null&&(this.__heikinAshiPlotter=new i._HeikinAshiPlotter,this._initPlotter(this.__heikinAshiPlotter)),this.__heikinAshiPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_lineBreakPlotter",{get:function(){return this.__lineBreakPlotter===null&&(this.__lineBreakPlotter=new i._LineBreakPlotter,this._initPlotter(this.__lineBreakPlotter)),this.__lineBreakPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_renkoPlotter",{get:function(){return this.__renkoPlotter===null&&(this.__renkoPlotter=new i._RenkoPlotter,this._initPlotter(this.__renkoPlotter)),this.__renkoPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_kagiPlotter",{get:function(){return this.__kagiPlotter===null&&(this.__kagiPlotter=new i._KagiPlotter,this._initPlotter(this.__kagiPlotter)),this.__kagiPlotter},enumerable:!0,configurable:!0}),f.prototype._getChartType=function(){var n=null;switch(this.chartType){case r.Area:n=t.ChartType.Area;break;case r.Line:case r.Kagi:n=t.ChartType.Line;break;case r.Column:case r.ColumnVolume:n=t.ChartType.Column;break;case r.LineSymbols:n=t.ChartType.LineSymbols;break;case r.Scatter:n=t.ChartType.Scatter;break;case r.Candlestick:case r.Renko:case r.HeikinAshi:case r.LineBreak:case r.EquiVolume:case r.CandleVolume:case r.ArmsCandleVolume:n=t.ChartType.Candlestick;break;case r.HighLowOpenClose:n=t.ChartType.HighLowOpenClose}return n},f.prototype._getPlotter=function(t){var e=this.chartType,i=null,o=!1,f;t&&(f=t.chartType,f&&!n.isUndefined(f)&&f!=e&&(e=f,o=!0));switch(e){case r.HeikinAshi:i=this._heikinAshiPlotter;break;case r.LineBreak:i=this._lineBreakPlotter;break;case r.Renko:i=this._renkoPlotter;break;case r.Kagi:i=this._kagiPlotter;break;case r.ColumnVolume:i=u.prototype._getPlotter.call(this,t);i.isVolume=!0;i.width=1;break;case r.EquiVolume:i=u.prototype._getPlotter.call(this,t);i.isEqui=!0;i.isCandle=!1;i.isArms=!1;i.isVolume=!0;i.symbolWidth="100%";break;case r.CandleVolume:i=u.prototype._getPlotter.call(this,t);i.isEqui=!1;i.isCandle=!0;i.isArms=!1;i.isVolume=!0;i.symbolWidth="100%";break;case r.ArmsCandleVolume:i=u.prototype._getPlotter.call(this,t);i.isEqui=!1;i.isCandle=!1;i.isArms=!0;i.isVolume=!0;i.symbolWidth="100%";break;default:i=u.prototype._getPlotter.call(this,t)}return i},f.prototype._createSeries=function(){return new i.FinancialSeries},f}(t.FlexChartCore);i.FinancialChart=u})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(r){function u(){r.apply(this,arguments)}return __extends(u,r),Object.defineProperty(u.prototype,"chartType",{get:function(){return this._finChartType},set:function(t){t!=this._finChartType&&(this._finChartType=n.asEnum(t,i.FinancialChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),u.prototype._getChartType=function(){var n=null;switch(this.chartType){case i.FinancialChartType.Area:n=t.ChartType.Area;break;case i.FinancialChartType.Line:case i.FinancialChartType.Kagi:n=t.ChartType.Line;break;case i.FinancialChartType.Column:case i.FinancialChartType.ColumnVolume:n=t.ChartType.Column;break;case i.FinancialChartType.LineSymbols:n=t.ChartType.LineSymbols;break;case i.FinancialChartType.Scatter:n=t.ChartType.Scatter;break;case i.FinancialChartType.Candlestick:case i.FinancialChartType.Renko:case i.FinancialChartType.HeikinAshi:case i.FinancialChartType.LineBreak:case i.FinancialChartType.EquiVolume:case i.FinancialChartType.CandleVolume:case i.FinancialChartType.ArmsCandleVolume:n=t.ChartType.Candlestick;break;case i.FinancialChartType.HighLowOpenClose:n=t.ChartType.HighLowOpenClose}return n},u}(t.SeriesBase);i.FinancialSeries=r})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(n){var t;(function(n){"use strict";var i=function(){function n(n,t,i,r){this.highs=n;this.lows=t;this.opens=i;this.closes=r}return n.prototype.calculate=function(){},n}(),r,t,u,f,e;n._BaseCalculator=i;r=function(t){function i(n,i,r,u){t.call(this,n,i,r,u)}return __extends(i,t),i.prototype.calculate=function(){var o=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),f,e,i,u,r=[],t;if(o<=0)return r;for(t=0;t<o;t++)u=n._average(this.highs[t],this.lows[t],this.opens[t],this.closes[t]),t===0?(i=n._average(this.opens[t],this.closes[t]),f=this.highs[t],e=this.lows[t]):(i=n._average(r[t-1].open,r[t-1].close),f=Math.max(this.highs[t],i,u),e=Math.min(this.lows[t],i,u)),r.push({high:f,low:e,close:u,open:i,pointIndex:t,x:null});return r},i}(i);n._HeikinAshiCalculator=r;t=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,n,i,r,u);this.xs=f;this.size=e;this.unit=o;this.fields=s}return __extends(i,t),i.prototype._getValues=function(){var i=[],r=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),t;switch(this.fields){case n.DataFields.High:i=this.highs;break;case n.DataFields.Low:i=this.lows;break;case n.DataFields.Open:i=this.opens;break;case n.DataFields.HL2:for(t=0;t<r;t++)i.push(n._average(this.highs[t],this.lows[t]));break;case n.DataFields.HLC3:for(t=0;t<r;t++)i.push(n._average(this.highs[t],this.lows[t],this.closes[t]));break;case n.DataFields.HLOC4:for(t=0;t<r;t++)i.push(n._average(this.highs[t],this.lows[t],this.opens[t],this.closes[t]));break;case n.DataFields.Close:default:i=this.closes}return i},i.prototype._getSize=function(){var t=this.unit===n.RangeMode.ATR?n._avgTrueRng(this.highs,this.lows,this.closes,this.size):null;return this.unit===n.RangeMode.ATR?t[t.length-1]:this.size},i}(i);n._BaseRangeCalculator=t;u=function(n){function t(t,i,r,u,f,e){n.call(this,t,i,r,u,f,e)}return __extends(t,n),t.prototype.calculate=function(){var a=this.xs!==null&&this.xs.length>0,o=this.closes.length,f=[],n=[[],[]],e,t,s,i,h,u,c,l,r;if(o<=0)return f;for(e=[],r=1;r<o;r++){if(h=f.length,u=h-1,s=a?this.xs[r]:r,i=this.closes[r],u===-1){if(t=this.closes[0],t===i)continue}else if(e=this._trendExists(n)||this.size===1?n[0].slice(-this.size).concat(n[1].slice(-this.size)):n[0].slice(1-this.size).concat(n[1].slice(1-this.size)),c=Math.max.apply(null,e),l=Math.min.apply(null,e),i>c)t=Math.max(n[0][u],n[1][u]);else if(i<l)t=Math.min(n[0][u],n[1][u]);else continue;n[0].push(t);n[1].push(i);f.push({high:Math.max(t,i),low:Math.min(t,i),open:t,close:i,x:s,pointIndex:r})}return f},t.prototype._trendExists=function(n){if(n[1].length<this.size)return!1;for(var i=!1,r=n[1].slice(-this.size),t=1;t<this.size;t++)if(i=r[t]>r[t-1],!i)break;if(!i)for(t=1;t<this.size;t++)if(i=r[t]<r[t-1],!i)break;return i},t}(t);n._LineBreakCalculator=u;f=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,n,i,r,u,f,e,o,s)}return __extends(i,t),i.prototype.calculate=function(){var s=this._getSize(),y=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),p=this._getValues(),w=this.xs!==null&&this.xs.length>0,f=[],u=[[],[]],o,a,i,b,t,h,c,e,l,v,r;if(y<=0)return f;for(r=1;r<y;r++){if(b=f.length,t=b-1,a=w?this.xs[r]:r,v=r,l=!1,this.fields===n.DataFields.HighLow)if(t===-1)if(this.highs[r]>this.highs[0])i=this.highs[r];else if(this.lows[r]<this.lows[0])i=this.lows[r];else continue;else if(e=u[1][t]-u[0][t],e>0)if(this.highs[r]>u[1][t])i=this.highs[r];else if(this.lows[r]<u[1][t])i=this.lows[r];else continue;else if(this.lows[r]<u[1][t])i=this.lows[r];else if(this.highs[r]>u[1][t])i=this.highs[r];else continue;else i=p[r];if(this.unit===n.RangeMode.Percentage&&(s=i*this.size),t===-1){if(a=w?this.xs[0]:0,v=0,o=this.fields===n.DataFields.HighLow?this.highs[0]:p[0],e=Math.abs(o-i),e<s)continue}else if(e=u[1][t]-u[0][t],c=Math.max(u[0][t],u[1][t]),h=Math.min(u[0][t],u[1][t]),e>0)if(i>c)l=!0;else if(e=c-i,e>=s)o=c;else continue;else if(i<h)l=!0;else if(e=i-h,e>=s)o=h;else continue;l?(u[1][t]=i,f[t].close=i,f[t].high=Math.max(f[t].open,f[t].close),f[t].low=Math.min(f[t].open,f[t].close)):(u[0].push(o),u[1].push(i),f.push({high:Math.max(o,i),low:Math.min(o,i),open:o,close:i,x:a,pointIndex:v}))}return f},i}(t);n._KagiCalculator=f;e=function(t){function i(n,i,r,u,f,e,o,s,h){h===void 0&&(h=!1);t.call(this,n,i,r,u,f,e,o,s);this.rounding=h}return __extends(i,t),i.prototype.calculate=function(){var e=this._getSize(),v=Math.min(this.highs.length,this.lows.length,this.opens.length,this.closes.length),b=this.xs!==null&&this.xs.length>0,y=this._getValues(),l=[],f=[[],[]],t,p,o,w,u,s,h,c,i,a,r;if(v<=0)return l;for(i=1;i<v;i++){if(w=l.length,u=w-1,p=b?this.xs[i]:i,this.fields===n.DataFields.HighLow)if(u===-1)if(this.highs[i]-this.highs[0]>e)t=this.highs[0],o=this.highs[i];else if(this.lows[0]-this.lows[i]>e)t=this.lows[0],o=this.lows[i];else continue;else if(s=Math.min(f[0][u],f[1][u]),h=Math.max(f[0][u],f[1][u]),this.highs[i]-h>e)t=h,o=this.highs[i];else if(s-this.lows[i]>e)t=s,o=this.lows[i];else continue;else if(o=y[i],u===-1)t=y[0];else if(s=Math.min(f[0][u],f[1][u]),h=Math.max(f[0][u],f[1][u]),o>h)t=h;else if(o<s)t=s;else continue;if(c=o-t,!(Math.abs(c)<e))for(c=n._trunc(c/e),a=0;a<Math.abs(c);a++)r={},this.rounding&&(t=this._round(t,e)),f[0].push(t),r.open=t,t=c>0?t+e:t-e,f[1].push(t),r.close=t,r.x=p,r.pointIndex=i,r.high=Math.max(r.open,r.close),r.low=Math.min(r.open,r.close),l.push(r)}return l},i.prototype._round=function(n,t){return Math.round(n/t)*t},i}(t);n._RenkoCalculator=e})(t=n.finance||(n.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){"use strict";var r=function(r){function u(){r.call(this);this._symFactor=.7;this.clear()}return __extends(u,r),u.prototype.clear=function(){r.prototype.clear.call(this);this._haValues=null;this._calculator=null},u.prototype.plotSeries=function(i,r,u,f){var et=this,k,e,b;this._calculate(f);var c=n.asType(f,t.SeriesBase),s=this.chart.series.indexOf(f),h=f.getValues(1),g=this._symFactor,v=this._haValues.length,nt=!0;h?(k=this.dataInfo.getDeltaX(),k>0&&(g*=k)):h=this.dataInfo.getXVals();h?v=Math.min(v,h.length):(nt=!1,h=new Array(v));var ot=this._DEFAULT_WIDTH,st=c._getSymbolFill(s),ht=c._getAltSymbolFill(s)||"transparent",tt=c._getSymbolStroke(s),ct=c._getAltSymbolStroke(s)||tt,it=g,rt=f.getDataType(1)||f.chart._xDataType;i.strokeWidth=ot;var lt=r.actualMin,at=r.actualMax,ut=0,y,ft,o,p,w,d,l,a;for(e=0;e<v;e++)o=nt?h[e]:e,t._DataInfo.isValid(o)&&lt<=o&&o<=at&&(w=this._haValues[e].high,d=this._haValues[e].low,l=this._haValues[e].open,a=this._haValues[e].close,y=l<a?ht:st,ft=l<a?ct:tt,i.fill=y,i.stroke=ft,i.startGroup(),p=this._getDataPoint(s,e,o,f),this.chart.itemFormatter?(b=new t.HitTestInfo(this.chart,new n.Point(r.convert(o),u.convert(w)),t.ChartElement.SeriesSymbol),b._setData(c,e),b._setDataPoint(p),this.chart.itemFormatter(i,b,function(){et._drawSymbol(i,r,u,s,e,y,it,o,w,d,l,a,p,rt)})):this._drawSymbol(i,r,u,s,e,y,it,o,w,d,l,a,p,rt),i.endGroup(),f._setPointIndex(e,ut),ut++)},u.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l,a,v,y,p){var g,w=null,d=null,b=null,k=null,nt=p===n.DataType.Date?432e5:.5,tt;b=r.convert(h-nt*s);k=r.convert(h+nt*s);b>k&&(tt=b,b=k,k=tt);h=r.convert(h);t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),w=Math.min(a,v),d=w+Math.abs(a-v),i.drawRect(b,w,k-b,d-w),g=new t._RectArea(new n.Rect(b,w,k-b,d-w)),g.tag=y,this.hitTester.add(g,f));t._DataInfo.isValid(c)&&(c=u.convert(c),w!==null&&i.drawLine(h,w,h,c));t._DataInfo.isValid(l)&&(l=u.convert(l),d!==null&&i.drawLine(h,d,h,l))},u.prototype._getDataPoint=function(n,i,r,u){var f=new t._DataPoint(n,i,r,this._haValues[i].high),e=u._getItem(i),o=u._getBinding(0),s=u._getBinding(1),h=u._getBinding(2),c=u._getBinding(3),l=u._getAxisY();return f.item=t._BasePlotter.cloneStyle(e,[]),f.item[o]=this._haValues[i].high,f.item[s]=this._haValues[i].low,f.item[h]=this._haValues[i].open,f.item[c]=this._haValues[i].close,f.y=this._haValues[i].high,f.yfmt=l._formatValue(this._haValues[i].high),f},u.prototype._calculate=function(t){var r=t._getBindingValues(0),u=t._getBindingValues(1),f=t._getBindingValues(2),e=t._getBindingValues(3);this._calculator=new i._HeikinAshiCalculator(r,u,f,e);this._haValues=this._calculator.calculate();(this._haValues===null||n.isUndefined(this._haValues))&&this._init()},u.prototype._init=function(){this._haValues=[]},u}(t._FinancePlotter);i._HeikinAshiPlotter=r})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){"use strict";var r=function(i){function r(){i.call(this);this._symFactor=.7;this.clear()}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._rangeValues=null;this._rangeXLabels=null;this._calculator=null},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)(r=this.chart.series[t],r)&&(n=r._getAxisX(),n&&n.itemsSource&&(n.itemsSource=null))},r.prototype.adjustLimits=function(){var u,t,f,i=0,o=0,e=0,s=0,h,c=this.chart._xDataType===n.DataType.Date?.5:0,r;for(n.assert(this.chart.series.length<=1,"Current FinancialChartType only supports a single series"),r=0;r<this.chart.series.length;r++)(u=this.chart.series[r],this._calculate(u),this._rangeValues.length<=0||this._rangeXLabels.length<=0)||(t=this._rangeValues.map(function(n){return n.open}),t.push.apply(t,this._rangeValues.map(function(n){return n.close})),f=this._rangeXLabels.map(function(n){return n.value}),e=Math.min.apply(null,t),s=Math.max.apply(null,t),i=Math.min.apply(null,f),o=Math.max.apply(null,f),h=u._getAxisX(),h.itemsSource=this._rangeXLabels);return i-=c,new n.Rect(i,e,o-i+c,s-e)},r.prototype.plotSeries=function(i,r,u,f){var w=this,l,s,c,h,a,e,v;this._calculate(f);var o=this.chart.series.indexOf(f),b=this._rangeValues.length,k=r.actualMin,d=r.actualMax,g=this._DEFAULT_WIDTH,y=this._symFactor,nt=f._getSymbolFill(o),tt=f._getAltSymbolFill(o)||"transparent",p=f._getSymbolStroke(o),it=f._getAltSymbolStroke(o)||p;for(i.strokeWidth=g,l=0,e=0;e<b;e++)s=e,t._DataInfo.isValid(s)&&k<=s&&s<=d&&(c=this._rangeValues[e].open,h=this._rangeValues[e].close,i.fill=c>h?nt:tt,i.stroke=c>h?p:it,a=this._getDataPoint(o,e,f,Math.max(c,h)),i.startGroup(),this.chart.itemFormatter?(v=new t.HitTestInfo(this.chart,new n.Point(r.convert(s),u.convert(h)),t.ChartElement.SeriesSymbol),v._setData(f,e),v._setDataPoint(a),this.chart.itemFormatter(i,v,function(){w._drawSymbol(i,r,u,o,l,y,s,c,h,a)})):this._drawSymbol(i,r,u,o,l,y,s,c,h,a),i.endGroup(),f._setPointIndex(e,l),l++)},r.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l){var v,p,a,y,w,b;a=r.convert(s-.5*o);y=r.convert(s+.5*o);a>y&&(b=a,a=y,y=b);t._DataInfo.isValid(h)&&t._DataInfo.isValid(c)&&(h=u.convert(h),c=u.convert(c),v=Math.min(h,c),p=v+Math.abs(h-c),i.drawRect(a,v,y-a,p-v),w=new t._RectArea(new n.Rect(a,v,y-a,p-v)),w.tag=l,this.hitTester.add(w,f))},r.prototype._getDataPoint=function(n,i,r,u){var e=i,f=new t._DataPoint(n,i,e,u),o=r._getItem(this._rangeValues[i].pointIndex),s=r.bindingX||this.chart.bindingX,h=r._getBinding(0),c=r._getBinding(1),l=r._getBinding(2),a=r._getBinding(3),v=r._getAxisY();return f.item=t._BasePlotter.cloneStyle(o,[]),f.item[h]=this._rangeValues[i].high,f.item[c]=this._rangeValues[i].low,f.item[l]=this._rangeValues[i].open,f.item[a]=this._rangeValues[i].close,f.y=this._rangeValues[i].close,f.yfmt=v._formatValue(this._rangeValues[i].close),f.x=f.item[s],f.xfmt=this._rangeXLabels[i]._text,f},r.prototype._init=function(){this._rangeValues=[];this._rangeXLabels=[]},r.prototype._calculate=function(){},r.prototype._generateXLabels=function(i){var f=this,r,e=i._getAxisX(),u=i.getDataType(1)||this.chart._xDataType;this._rangeValues.forEach(function(i,o){var s=i.x;r=u===n.DataType.Date?n.Globalize.format(t.FlexChart._fromOADate(s),e.format||"d"):u===n.DataType.Number?e._formatValue(s):(u===null||u===n.DataType.String)&&f.chart._xlabels?f.chart._xlabels[s]:s.toString();f._rangeXLabels.push({value:o,text:r,_text:r})},this)},r.prototype.getOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&!n.isUndefined(r[t])&&r[t]!==null)?r[t]:undefined},r}(t._BasePlotter),u,f;i._BaseRangePlotter=r,function(n){n[n.Close=0]="Close";n[n.High=1]="High";n[n.Low=2]="Low";n[n.Open=3]="Open";n[n.HighLow=4]="HighLow";n[n.HL2=5]="HL2";n[n.HLC3=6]="HLC3";n[n.HLOC4=7]="HLOC4"}(i.DataFields||(i.DataFields={}));u=i.DataFields,function(n){n[n.Fixed=0]="Fixed";n[n.ATR=1]="ATR";n[n.Percentage=2]="Percentage"}(i.RangeMode||(i.RangeMode={}));f=i.RangeMode})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){"use strict";var i=function(i){function r(){i.call(this)}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._newLineBreaks=null},r.prototype._calculate=function(i){this._init();var r=i._getBindingValues(3),u=i.getValues(1)||this.chart._xvals;this._calculator=new t._LineBreakCalculator(null,null,null,r,u,this._newLineBreaks);this._rangeValues=this._calculator.calculate();(this._rangeValues===null||n.isUndefined(this._rangeValues))&&(this._rangeValues=[]);this._generateXLabels(i)},r.prototype._init=function(){i.prototype._init.call(this);this._newLineBreaks=n.asInt(this.getNumOption("newLineBreaks","lineBreak"),!0,!0)||3;n.assert(this._newLineBreaks>=1,"Value must be greater than 1")},r}(t._BaseRangePlotter);t._LineBreakPlotter=i})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(t){"use strict";var i=function(i){function r(){i.call(this)}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._boxSize=null;this._rangeMode=null},r.prototype._calculate=function(i){this._init();var r=i._getBindingValues(0),u=i._getBindingValues(1),f=i._getBindingValues(2),e=i._getBindingValues(3),o=i.getValues(1)||this.chart._xvals;this._calculator=new t._RenkoCalculator(r,u,f,e,o,this._boxSize,this._rangeMode,this._fields,this._rounding);this._rangeValues=this._calculator.calculate();(this._rangeValues===null||n.isUndefined(this._rangeValues))&&(this._rangeValues=[]);this._generateXLabels(i)},r.prototype._init=function(){i.prototype._init.call(this);this._boxSize=this.getNumOption("boxSize","renko")||14;this._rangeMode=this.getOption("rangeMode","renko")||t.RangeMode.Fixed;this._rangeMode=n.asEnum(this._rangeMode,t.RangeMode,!0);n.assert(this._rangeMode!==t.RangeMode.Percentage,"RangeMode.Percentage is not supported");this._fields=this.getOption("fields","renko")||t.DataFields.Close;this._fields=n.asEnum(this._fields,t.DataFields,!0);n.assert(this._fields!==t.DataFields.HighLow,"DataFields.HighLow is not supported");this._rounding=n.asBoolean(this.getOption("rounding","renko"),!0)},r.prototype._generateXLabels=function(n){var t=this;i.prototype._generateXLabels.call(this,n);this._rangeXLabels.forEach(function(n,i){i>0&&t._rangeXLabels[i-1]._text===n.text&&(n.text="")},this)},r}(t._BaseRangePlotter);t._RenkoPlotter=i})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;(function(t){var i;(function(i){"use strict";var r=function(r){function u(){r.call(this)}return __extends(u,r),u.prototype._calculate=function(t){this._init();var r=t._getBindingValues(0),u=t._getBindingValues(1),f=t._getBindingValues(2),e=t._getBindingValues(3),o=t.getValues(1)||this.chart._xvals;this._calculator=new i._KagiCalculator(r,u,f,e,o,this._reversalAmount,this._rangeMode,this._fields);this._rangeValues=this._calculator.calculate();(this._rangeValues===null||n.isUndefined(this._rangeValues))&&(this._rangeValues=[]);this._generateXLabels(t)},u.prototype.plotSeries=function(i,r,u,f){var b,e,s,o,l,a,k,nt,h;this._calculate(f);var v=this.chart.series.indexOf(f),d=this._rangeValues.length,tt=r.actualMin,it=r.actualMax,c=this._DEFAULT_WIDTH,y=f._getSymbolStroke(v),g=f._getAltSymbolStroke(v)||y,p=[],w=[];for(i.stroke=y,i.strokeWidth=c,b=0,i.startGroup(),h=0;h<d;h++)e=h,t._DataInfo.isValid(e)&&tt<=e&&e<=it&&(s=this._rangeValues[h].open,o=this._rangeValues[h].close,h===0?(l=Math.min(s,o),a=Math.max(s,o),i.strokeWidth=s>o?c:c*2,i.stroke=s>o?y:g,i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(o)),i.drawLine(r.convert(e-1)-i.strokeWidth/2,u.convert(s),r.convert(e)+i.strokeWidth/2,u.convert(s))):i.strokeWidth===c?o>s?(o>a?(i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(a)),i.strokeWidth=c*2,i.stroke=g,i.drawLine(r.convert(e),u.convert(a),r.convert(e),u.convert(o)),l=s):i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(o)),a=o):i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(o)):i.strokeWidth/2===c&&(o<s?(o<l?(i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(l)),i.strokeWidth=c,i.stroke=y,i.drawLine(r.convert(e),u.convert(l),r.convert(e),u.convert(o)),a=s):i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(o)),l=o):i.drawLine(r.convert(e),u.convert(s),r.convert(e),u.convert(o))),h<d-1&&i.drawLine(r.convert(e)-i.strokeWidth/2,u.convert(o),r.convert(e+1)+i.strokeWidth/2,u.convert(o)),nt=this._getDataPoint(v,h,f,o),k=new t._CircleArea(new n.Point(r.convert(e),u.convert(o)),.5*i.strokeWidth),k.tag=nt,this.hitTester.add(k,v),f._setPointIndex(h,b),b++,p.push(r.convert(e)),w.push(u.convert(s)),p.push(r.convert(e)),w.push(u.convert(o)));i.endGroup();this.hitTester.add(new t._LinesArea(p,w),v)},u.prototype._init=function(){r.prototype._init.call(this);this._reversalAmount=this.getNumOption("reversalAmount","kagi")||14;this._rangeMode=this.getOption("rangeMode","kagi")||i.RangeMode.Fixed;this._rangeMode=n.asEnum(this._rangeMode,i.RangeMode,!0);this._fields=this.getOption("fields","kagi")||i.DataFields.Close;this._fields=n.asEnum(this._fields,i.DataFields,!0)},u.prototype.clear=function(){r.prototype.clear.call(this);this._reversalAmount=null;this._rangeMode=null},u}(i._BaseRangePlotter);i._KagiPlotter=r})(i=t.finance||(t.finance={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))